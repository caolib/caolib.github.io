<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>计算机网络 | 学海无涯</title><meta name="keywords" content="计算机网络"><meta name="author" content="caolibin"><meta name="copyright" content="caolibin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="计算机网络"><meta name="application-name" content="计算机网络"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络"><meta property="og:url" content="https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.html"><meta property="og:site_name" content="学海无涯"><meta property="og:description" content="计算机网络  下载文件 1. 计算机网络概述 1.1 计网的组成 概念 简单定义：硬件(独立和连接)+软件(协议)+目的(共享和通信)  计算机网络就是以传输信息为基本目的,用通信线路和通信设备将多个计算机连接起来的计算机系统的集合   分类  按网络覆盖范围进行分类   局域网(Local Are"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://img2.imgtp.com/2024/04/26/bIFqmrVZ.jpeg"><meta property="article:author" content="caolibin"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img2.imgtp.com/2024/04/26/bIFqmrVZ.jpeg"><meta name="description" content="计算机网络  下载文件 1. 计算机网络概述 1.1 计网的组成 概念 简单定义：硬件(独立和连接)+软件(协议)+目的(共享和通信)  计算机网络就是以传输信息为基本目的,用通信线路和通信设备将多个计算机连接起来的计算机系统的集合   分类  按网络覆盖范围进行分类   局域网(Local Are"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: {"enable":true,"leaveTitle":"别肘,快回来！","backTitle":"♪(^∇^*)！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://clibin-twikoo-comments.hf.space',
  commentBarrageConfig:{"enable":true,"maxBarrage":1,"barrageTime":10000,"accessToken":"911b527c61f5ff2539b8f9e1c112ce7d","mailMd5":""},
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: {"appId":"5XB6D5PJUB","apiKey":"07997253594a9ada0ae49be2e2983b26","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: caolibin","link":"链接: ","source":"来源: 学海无涯","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#282C34","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '学海无涯',
  title: '计算机网络',
  postAI: '',
  pageFillDescription: '计算机网络, 1. 计算机网络概述, 1.1 计网的组成, 概念, 分类, 组成, 组成部分, 工作方式, 逻辑功能, 1.2 功能, 1.3 互联网, 网络的网络, 互联网结构发展, 1.4 , 电路交换, 报文交换, 分组交换, 1. 速率, 2. 带宽, 3. 吞吐量, 4. 时延, 5. 时延带宽积 往返时间 利用率 丢包率, 1.6 计算机网络体系结构, 1.6.1 网络协议, 1.6.2 分层体系结构, 1.6.3 原理体系结构, 1.6.4 实体、协议和服务, 1.7 相关习题, 1.8 思维导图和习题, 2. 物理层, 2.1 基本概念, 2.2 数据通信的基础知识, 通信系统模型, 编码与调制, 信道的极限容量, 奈式准则, 香农公式, 传输方式, 2.3 物理层传输介质, 导引型介质, 非导引型介质, 物理层接口的特性, 2.5 物理层设备, 中继器, 集线器, 2.6 相关习题和资料, 3. 数据链路层, 3.1 相关概念, 3.2 封装成帧和透明传输, 1.封装成帧, 2.透明传输问题, 3.组帧, 3.3 差错控制, 检错编码, 奇偶校验码, 循环冗余码, 纠错编码, 汉明码, 3.4 流量控制, 可靠传输, 停止-等待协议(SW), 回退N帧协议(GBN), 选择重传协议(SR), 3.5 介质访问控制, 1.通信方式, 2.介质访问控制, 3.信道划分, 1. 频分复用, 2. 时分复用, 3. 波分复用, 4. 码分复用, 4.随机访问, 概述, 1. ALOHA 协议, 2. CSMA 协议, 3. CSMA/CD 协议, 工作流程, 争用期, 最小帧长, 二进制指数退避算法, 4. CSMA/CA, 5.轮询访问, 令牌传递协议, 3.6 局域网, 概述, 拓扑结构, 分类, MAC地址, VLAN, 3.7 广域网, 概述, PPP 协议, 3.8 链路层设备, 网桥, 交换机, 集线器vs交换机, 3.9 STP, 4. 思维导图和习题, 4. 网络层, 4.1 概述, 4.2 网络层提供的两种服务, 1.虚电路服务, 2.数据报服务, 4.3 SDN, 结构, 区别, 路由选择处理器, 4.4 IPv4, 概述, 首部格式, MTU, 4.5 IP编址方式, 1.分类编址的IP, 2.划分子网的IP, 3.CIDR, 4.路由聚合, 4.6 IP数据报的发送和转发过程, 4.7 ARP, 4.8 静态路由配置, 1. 静态路由的配置, 2. 默认路由, 3. 路由环路, 4.9 DHCP, 1. 概述, 2. 工作过程, 3. DHCP中继代理, 4.10 路由选择协议, 4.11 RIP, 概述, 工作原理, 4.12 OSPF, 1. 基本概念, 2. 特点, 3. 相关概念, 4. 基本工作原理, 4.13  BGP, 1. 基本概念, 2. 四种报文, 4.14 ICMP, 1. 基本概念, 2. ICMP报文数据类型, 3. ICMP的典型应用, 1. PING, 2. traceroute, 4.15 VPN, 4.16 NAT, 1. 概述, 2. NAPT, 5. 思维导图和习题, 5. 运输层, 1. 概述, 2. 端口号复用和分用, 1. 运输层端口号, 2. 发送方的复用和接收方的分用, 3.  TCP和UDP的对比, 4. TCP的流量控制, 1. 概述, 2. , 5. TCP的拥塞(se)控制, 1. 基本概念, 2. 4种拥塞控制方法, 1. 慢开始、拥塞避免, 2. 快重传、快恢复, 6. TCP超时重传时间的选择, RTO的选择, 1. RTTs的计算, 2. RRTd和RTO的计算, 发生超时重传时无法测准RTT, Karn算法及修正, 总结, 7.TCP可靠传输的实现, 8. TCP的运输连接管理, 1. TCP连接的建立, 2. 三报文握手, 3. 四报文挥手, 9. TCP报文段首部格式, 10. 思维导图和习题, 6. 应用层, 1. 概述, 2. 客户服务器和对等方式, 1. C/S方式, 2. P2P方式, 4. DNS, 1. 域名系统的作用, 2. 因特网的域名结构, 1. 域名规范, 2. 不同国家的域名, 3. 因特网的域名空间, 3. 域名服务器, 4. 域名解析, 1. 递归查询, 2. 迭代查询, 3. 高速缓存, 5. FTP, 6. 电子邮件, 1. E-mail, 2. 电子邮件系统的组成, 3. 邮件发送和接收过程, 4. SMTP, 5. 电子邮件的信息格式, 6. MIME, 7. 常用邮件读取协议, 8. 基于万维网的电子邮件, 7. 万维网, 1. 概述, 2. URL, 3. 万维网文档, 4. HTTP, 1. 概述, 2. 报文格式, 5. Cookie, 6. 万维网缓存与代理服务器, 7. 思维导图和相关习题, 计算机网络相关术语, 脚注, 待用图片计算机网络下载文件计算机网络概述计网的组成概念简单定义硬件独立和连接软件协议目的共享和通信计算机网络就是以传输信息为基本目的用通信线路和通信设备将多个计算机连接起来的计算机系统的集合分类按网络覆盖范围进行分类局域网一个实验室一幢楼一个校园城域网几个街区甚至整个城市广域网覆盖一个国家或地区甚至几个洲也称为远程网个人区域网以内按网络的使用者进行分类公用网所有愿意缴纳费用的人都能使用专用网专门为本单位的特殊业务工作建造的例如军队铁路电力等系统组成组成部分计算机网络主要由硬件软件协议组成工作方式从工作方式上看计算机网络可分为边缘部分用户直接使用的核心部分为边缘部分提供服务的逻辑功能从逻辑功能上看计算机网络由通信子网和资源子网组成通信子网由各种传输介质通信设备和相应的网络协议组成资源子网实现资源共享功能的设备及其软件的集合功能互联网网络的网络网络网络由若干节点和连接这些节点的链路组成节点可以是计算机集线器交换机路由器互连网络通用名词注意和互联网区分将网络用路由器连接起来就成了互连网络因此互连网络是网络的网络总结网络把许多计算机连接在一起而互连网络则把许多网络连接在一起互联网也称因特网当前全球最大的开放的由众多网络相互连接而成的特定计算机网络采用协议作为通信规则前身是美国的阿帕网互联网结构发展第一阶段从单个网络向互连网络发展第二阶段逐步建成三级结构的互联网第三阶段逐渐形成多层次的结构的互联网电路报文分组交换电路交换电路交换是指在通信开始之前建立一条专用的物理连接然后在通信过程中一直占用这条连接直到通信结束在这个过程中数据被分成固定大小的数据包每个数据包都被分配一个专用的物理通路适用于低频次大量地传输数据这种必须经过建立连接分配通信资源通信一直占用通信资源释放连接归还通信资源三个步骤的交换方式称为电路交换优点通信时延小有序传输没有冲突传输速度快控制简单等缺点建立释放连接都需要额外的时间开销线路被通信双方独占利用率低线路分配的灵活性差某段线路出现错误时只能重新建立连接交换节点不支持差错控制无法发现传输过程中的发生的数据错误总结计算机之间数据往往是突发式传输即往往会高频次少量地传输数据所以电路交换并不适用于计算机网络报文交换我们通常把要发送的整块数据称为一个报文用户数据加上源地址和目的地址等信息后封装成报文报文交换采用存储转发技术整个报文传送到相邻结点全部存储下来后查找转发表转发到下一个结点直到到达目的地优点通信前无需建立连接数据以报文为单位被交换节点间存储转发通信线路可以灵活分配在通信时间内两个用户无需独占一整条物理线路相比于电路交换线路利用率高交换节点支持差错控制通过校验技术缺点报文不定长不方便存储转发管理长报文的存储转发时间开销大缓存开销大长报文容易出错重传代价高报文出错且校验技术无法修复时需要重传报文越长越明显分组交换分组交换发送报文之前先将报文划分为一个个更小的等长的数据段在数据段前面加上首部又称为包头就构成了分组又称为包每个分组都带有目标地址和源地址等信息然后通过网络传输在传输过程中每个数据包都独立传输可以通过不同的路径到达目的地分组交换的优点通信前无需建立连接数据以分组为单位被交换节点间存储转发通信线路可以灵活分配在通信时间内两个用户无需独占一整条物理线路相比于电路交换线路利用率高交换节点支持差错控制通过校验技术相比于报文交换分组交换改进了如下问题分组定长方便存储转发管理分组的存储转发时间开销小缓存开销小分组不易出错重传代价低分组交换的缺点相比于报文交换控制信息占比增加相比于电路交换依然存在存储转发时延报文被拆分为多个分组传输过程中可能出现失序丢失等问题增加处理的复杂度种交换方式的对比总结现代计算机网络采用分组交换技术计网的主要性能指标速率数据的传输速率也称为数据率比特率字节比特单位是或比特是数据量的单位是一个二进制数字或一般来说表示速率时表示存储容量或文件大小时带宽带宽本来是指某个信号具有的频带宽度表示通信线路允许通过的信号频带范围单位为赫兹计算机网络中带宽表示网络某通道传输能力即最高数据率单位为比特每秒吞吐量也称为吞吐率表示单位时间内通过某个网络或信道接口的数据量时延时延是指数据从网络的一端传送到另外一端所需要的时间也称为延迟或迟延网络中的时延通常由以下几个不同的部分组成发送时延主机或路由器将整个分组的所有比特发送到通信线路上所需要的时间发送时延分组长度发送速率发送时延分组长度发送速率发送时延发送速率分组长度传播时延是电磁波在信道中传播一定距离所花费的时间传播时延信道长度电磁波在信道上的传播速度传播时延信道长度电磁波在信道上的传播速度传播时延电磁波在信道上的传播速度信道长度处理时延主机或路由器在收到分组时处理分组花费的时间一般不方便计算时延带宽积往返时间利用率丢包率计算机网络体系结构网络协议网络协议主要由以下三要素组成语法数据与控制信息的结构或格式例如地址字段多长以及它在分组的什么位置语义各个控制信息的具体含义需要发出何种控制信息完成何种动作及做出何种响应同步时序事件实现的顺序和时间的详细说明数据何时发出以及以什么速率发出分层体系结构原理体系结构我们学习的是具有五层协议的原理体系结构实体协议和服务协议是水平的服务是垂直的实体任何可发送或接收信息的硬件或软件进程协议控制两个或多个对等实体之间通信的规则的集合下层通过层级接口向上层提供服务下面的协议对上面的实体是透明的透明某个实际存在的事物看起来好像不存在一样相关习题思维导图和习题第章概述思维导图第章概述习题物理层任务怎样在连接各种计算机的传输媒体上传输数据比特流使数据链路层感觉不到各种传输媒体之间的差异只需要使用物理层服务就能传输比特流不必关心具体怎么实现基本概念数据通信的基础知识通信系统模型编码与调制定义模拟信号消息的参数的取值是连续的数字信号消息的参数的取值是离散的编码将数字数据转换成数字信号的过程调制将数字数据转换成模拟信号的过程常用编码方式基本的调制方法相位调制相位调制表示种状态只需要个比特二进制即可所以个码元可以承载个比特数据传输率波特率以此类推信道的极限容量奈式准则也称奈奎斯特定理采样定理理想低通信道的最高码元传输速率波特一个码元可以表示的离散电平数目频率带宽最低和最高频率之差理想低通信道不考虑噪声香农公式香农公式知道信噪比求假设信噪比为在信道带宽一定的情况下根据奈氏准则和香农公式要想提高信息的传输速率就必须采用多元制更好的调制方法和努力提高信道中的信噪比自从香农公式发表后各种新的信号处理和调制方法就不断出现其目的都是为了尽可能地接近香农公式给出的传输速率极限影响信号传输速率的因素信道带宽信噪比码元速率调制速率传输方式并行传输和串行传输并行传输速度是串行传输的倍但是成本高所以长距离传输使用串行传输远距离传输使用串行传输计算机内部使用并行传输异步传输和同步传输异步传输字节之间异步但是要添加开始码和停止码作为引导单工半双工和全双工通信物理层传输介质导引型介质同轴电缆双绞线光纤多模光纤利用光的全反射特性光源使用发光二极管适合近距离传输单模光纤光纤直径减小到只有光的一个波长可使光线直线传播光源使用半导体激光器适合远距离传输但是成本较高非导引型介质微波有很强的方向性无线电波有较强的穿透能力可以传输很长距离信号向所有方向传播广泛用于通信领域红外线和可见光物理层接口的特性机械特性指名接口所用接线器的形状和尺寸引脚数目和排列固定和锁定装置等电气特性指名在接口电缆的各条线上的电压范围传输速率和距离限制等功能特性指名某条线上出现某一电平的电压的意义以及每条线的功能过程特性也称规程特性指名对不同功能的各种可能事件的出现顺序物理层设备中继器功能对信号进行再生和还原对衰减的信号进行放大保持与原数据相同不能检测出信号是否错误以增加信号传输的距离延长网络的长度中继器有个端口两端是网段而非子网适用于完全相同的两类网络速率协议等的互联规则网络标准中都对信号的延迟范围作了具体的规定因而中继器只能在规定的范围内进行否则会网络故障下图中段链路使用个中继器连接最多允许台主机集线器集线器相当于多端口中继器功能对信号再生放大转发有个输入端口和多个输出端口不具备定向转发信号功能是一个共享性设备不能分割冲突域有多台设备共享时带宽均分给各个设备相关习题和资料第章物理层习题第章物理层思维导图数据链路层任务解决数据包在一个网络或一段链路上传输的问题功能为网络层提供服务无确认无连接服务有确认无连接服务有确认面向连接服务面向连接一定有确认链路管理即连接的建立维持释放用于面向连接的服务封装成帧流量控制限制发送方差错控制帧错位错相关概念链路网络中两个节点之间的物理线路而中间没有任何其他的交换节点数据链路网络中两个节点之间的逻辑线路把实现控制数据传输协议的硬件和软件加到链路上就构成数据链路网络适配器俗称网卡和其相应的软件驱动程序就实现了这些协议一般的网络适配器都包含了物理层和数据链路层这两层的功能帧是数据链路层的协议数据单元封装网络层数据报封装成帧和透明传输封装成帧封装成帧组帧就是在一段数据的前后部分添加首部和尾部这样就构成了一个帧首部和尾部包含许多的控制信息他们的一个重要作用帧定界确定帧的界限帧同步接收方应当能从接收到的二进制比特流中区分出帧的起始和终止组帧的四种方法字符计数法字符节填充法零比特填充法违规编码法透明传输问题透明传输数据链路层对上层交付的的内容没有任何限制就好像数据链路层不存在一样透明传输问题上层应用交付的数据单元中可能含有和帧定界符相同的数据而被接收端误认为帧定界符从而导致错误组帧如果不解决透明传输问题则数据链路层就会对上层交付的的内容有所限制即中不能包含帧定界符显然这样的数据链路层没有什么应用价值字符计数法原理在帧的首部用一个计数字段来记录当前帧的所含的字节数包含自身的个字节接收方读取到帧的首部中的计数字段就能确定该帧的长度并定界问题如果计数字段错误会导致当前帧的定界错误从而导致下一个帧的定界也出错接受双方将失去同步造成灾难性后果字符节填充法原理发送方在发送数据前如果待发送数据中含有和帧定界符相同的数据在该数据前加一个转义字符如果数据中出现其他特殊字符字符处理方式相同接收方在接收数据时如果读取到了字符则认为后面紧跟着的是数据而不是特殊字符对于字符填充举个不恰当的例子如果我们要输出的字符串中带有就必须使用进行转义否则会出现语法错误零比特填充发送方扫描要发送的信息如果有连续的个立即插入个接收端逆操作即可为帧定界符接收方在接收端收到一个帧时先找到标志字段确定边界再用硬件对比特流进行扫描发现连续个时就把后面的删除总结保证了透明传输在传送的比特流中可以传送任意比特组合而不会引起对帧边界的判断错误违规编码法以曼彻斯特编码为例曼彻斯特编码中间时刻必定跳变电平对为高低或低高所以可以使用不跳变表示帧的界使用高高表示帧的开始使用低低表示帧的结束违规编码法不采用任何填充技术便能实现数据的透明传输但只适用于采用冗余编码的特殊编码环境总结由于字节计数法中字段的脆弱性其值若有差错将导致灾难性后果及字符填充实现上的复杂性和不兼容性非字符不太适用目前较普遍使用的帧同步法是比特填充法和违规编码法差错控制全局性由于线路本身电气特性所产生的随机噪声热噪声是信道固有的随机存在的解决办法提高信噪比来减少或避免干扰对传感器下手局部性外界特定的短暂原因所造成的冲击噪声是产生差错的主要原因解决办法通常利用编码技术来解决差错位错比特位出错变成变成帧错丢失重复失序检错编码奇偶校验码奇偶校验码是奇校验和偶校验的统称在待发送数据后加一位校验码使整个数据中的个数为奇数个奇校验或者偶数个偶校验特点只能检查出奇数个比特错误但不知道哪些位错了检错能力为循环冗余码检验广泛使用于数据链路层是具有纠错功能的只是数据链路层仅仅使用了它的检错功能收发双方需要约定一个生成多项式最高位和最低位必须为计算出的冗余码帧检验序列加到数据最后一起传输生成和检验都是由硬件完成处理非常迅速发送方下图生成多项式除数为除法此处指异或运算接收方检错码总结纠错编码汉明码汉明码又称为海明码最常见的纠错编码确定校验位数为信息位数为校验位数取使得等式成立的最小的海明不等式海明码的位数信息位数校验位数海明码的位数信息位数校验位数海明码的位数信息位数校验位数确定校验码和数据的位置校验码放在的位置上第个求出校验码的值分组第个校验码中包括序号二进制末尾为的数第二个检验码中包括序号二进制为的数以此类推同一个数可以分到多个组中几个校验码就分几组求值默认采用偶校验保证每个组中的个数为偶数个如果为奇数个那么校验码为否则为也可以使用异或运算解决校验码的值就是对应校验组所有数据异或运算的结果检错并纠正检错接收方接收到数据后将对应校验码和校验组所有数据进行异或运算结果应全部为偶校验出现说明出现了错误纠错各个组的异或结果应为如果不全是假设是那么出错的为就是异或结果的二进制位即流量控制可靠传输停止等待协议基本原理停止等待协议发送一个数据分组然后等待接收方发来确认信息后再传输下一个数据分组发送接收窗口大小都为如果超时未接收到接收方发送的确认信息或者接收到否认信息就重传上一个分组数据分组发送方发送一个分组后不会立即删除该分组因为可能需要重传接收到后才将分组从缓存删除数据分组和确认信息的编号都是用来区分和上一个分组或信息是否相同协议编号只需要个比特停止等待协议的信道利用率信道利用率数据发送时延数据发送时延个传播时延确认信息发送时延信道利用率数据发送时延数据发送时延个传播时延确认信息发送时延信道利用率数据发送时延个传播时延确认信息发送时延数据发送时延确认信息的发送时延一般忽略不计总结当往返时间远大于数据帧的发送时延时信道利用率很低如果出现超时重传信道利用率更低卫星链路回退帧协议回退帧协议发送方可以在未收到确认帧的情况下将发送窗口内的多个数据帧全部发送出去回退帧的含义发送方发送了个帧如果这个帧的前一个帧在超时的时候仍未接收到确认分组则认为该帧出错或丢失此时发送方需要重传该出错帧及随后的个帧因为该协议中接收方只能顺序接受帧采用累计确认假设发送方发送了个数据随后收到接收方发来的确认分组编号为这表示号数据全部接收了而不是仅仅对号数据的确认重点发送窗口如果采用了个比特进行编号那么发送窗口满足太大会造成接收方无法分辨新旧数据帧接收窗口可保证按序接收数据帧只能按序接收接收方只按顺序接收帧不按序无情丢弃累积确认偶尔梢带确认确认序列号最大的按序到达的帧选择重传协议选择重传协议在协议中只要一个帧出错该帧及其随后的所有帧都需要重传这是对通信资源的极大浪费为进一步提高信道利用率可以只重传出错或计时器超时的帧此时必须加大接收窗口以便收下失序但正确到达的帧重点接收方将确认一个正确接收的帧而不管其是否按序到达失序的帧将被缓存不能使用累计确认对每个帧都进行确认接收方有缓存发送窗口接收窗口总结自动重传请求协议包括三种停止等待协议后退帧协议选择重传协议为连续协议可以连续发送多个帧连续的信道利用率假设发送窗口为即发送方可以连续发送的帧的数量信道利用率为信道实际数据传输速率信道利用率信道带宽介质访问控制通信方式数据链路层的通信方式介质访问控制信道划分复用当网络中传输媒体的传输容量大于多条单一信道传输的总通信量时可利用复用技术在一条物理线路上建立多条通信信道来共享传输媒体的带宽频分复用频分复用将多路基带信号调制到不同频率载波上再进行叠加形成一个复合信号接收端的分用器通过滤波将各路信号滤出将合成的复合信号恢复成原始的多路信号信道利用率高实际应用中为了防止信道之间相互干扰相邻信道间还要加入隔离频带时分复用时分复用将传输线路的带宽资源按时间轮流分配给不同的用户用户只能在分配的时间里使用线路传输数据类似于时间片轮转同一时刻只有一个用户在使用相当于多个用户并发使用存在的不足使用时分复用系统传送计算机数据时由于计算机数据的突发性质用户对分配到的子信道的利用率一般不高如果暂时不使用信道其他用户正常使用时分复用还是会给分配时间而且这段时间内其他用户也不能使用图中第个周期第段时间中黄色线并没有使用信道但还是会分配信道给他而且该时间段内其他用户不能使用统计时分复用动态地按需分配共用信道的时隙只将需要传送数据的终端接入共用信道可以提高信道的利用率帧与帧之间留有空隙用来存储用户的地址信息因为不是固定的分配给某个用户波分复用波分复用就是光的频分复用专指光纤使用一根光纤来同时传输多个光载波信号现在已能做到在一根光纤上复用几十路或更多路数的光载波信号码分复用码分多路复用又叫码分多址采用不同的编码地址码来区分各路原始信号的一种复用方式它既共享信道的频率又共享时间是真正意义的动态复用技术最初用于军事因为这种系统发送的信号有很强的抗干扰能力其频谱类似于白噪声不易被敌人发现码片序列转为码片向量例码片序列为码片向量为如果有多个站同时发送信号将它们的码片向量线性相加接收方收到总信号如果想知道站发送的信息就可以用站的码片向量与总信号规格化内积规格化内积向量相乘向量个数规格化内积向量相乘向量个数规格化内积向量个数向量相乘内积为站发送信号发送的是自己的码片序列内积为站未发送信号未发送数据内积为站发送信号发送的是自己的码片序列的二进制反码随机访问概述在随机访问协议中所有用户可以根据自己意愿发送信息那么在总线型网络中当有多个用户同时发送数据时就会产生帧冲突碰撞导致所有冲突的用户的发送都以失败告终随机访问介质访问控制协议争用性协议的核心思想是胜利者通过争用获得信道进而获得发送权协议纯协议想发就发发生冲突等待随机时间后重传容易出现冲突效率较低时隙协议将时间分成相同大小的时间片只有在时间片开始的时候才能发送发送一帧的时间不能超过一个时隙一定程度上限制了发送方发送数据的随意性降低了冲突的概率依然很大产生冲突后等待随机个时隙时间后重传协议载波监听多路访问总结坚持非坚持坚持空闲立即发送立即发送概率发送概率推迟到下一个时隙忙持续监听放弃监听等待随机时间继续监听持续监听等到下一个时隙再监听坚持只适用于时分信道检测到信道空闲时以概率发送数据以概率推迟到下一个时隙继续监听坚持监听到信道忙时会持续监听信道出现冲突时才会等待随机时间后再监听协议载波监听多路访问碰撞检测在中尽管发生冲突数据还是会继续传输完毕这是不必要的发生冲突后传输的数据已经无效的工作流程可以概括为先听后发边听边发冲突停发随机重发在发送数据时一边监听信道如果发生冲突立即停止发送主要区别工作流程争用期即端到端传播时延的倍以太网中规定争用期为最小帧长最小帧长争用期数据传输速率数据传输速率距离传播速率数据传输速率数据传输速率距离传播速率数据传输速率数据传输速率传播速率距离数据传输速率二进制指数退避算法发生碰撞后进行重传随着重传次数增加退避时间也会逐渐增加减小了碰撞的概率载波监听多路访问碰撞避免碰撞避免实现中涉及的的三种机制预约信道通知其它站点自己需要的时间长度帧接收站点发回确认发送端超时未接收则重发帧与帧可选发送端发接收端响应发送端收到则认为可以发送数据帧的目的给源站明确的发送许可指示其他站在预约期间不要发送帧间间隔所有站发送一帧后必须等待一段很短的时间帧间间隔才能继续监听并发送数据的类型短最短的用于分隔一次对话的各帧等点协调中等长度的在操作中使用分布式协调最长的用于异步帧竞争访问的时延轮询访问用户不能随机发送数据而是通过一个集中控制的监控站以循环方式轮询访问每个结点再决定信道的分配典型的轮询访问控制协议是令牌传递协议令牌传递协议注意点网络空闲时只有令牌帧在循环传递游荡源站点传输完数据后重新生成一个令牌并传递给下一个站点令牌传递协议适合负载较重通信量较大的广播信道单点故障会导致整个网络无法工作逻辑上环形局域网概述拓扑结构分类以太网以太网是应用最为广泛的局域网包括标准以太网快速以太网千兆以太网和以太网它们都符合系列标准规范逻辑拓扑总线型物理拓扑是星型或拓展星型使用令牌环网物理上采用了星形拓扑结构逻辑上是环形拓扑结构已是明日黄花网物理上采用了双环拓扑结构逻辑上是环形拓扑结构网较新型的单元交换技术使用字节固定长度的单元进行交换无线局城网采用标准以太网支持全双工和半双工通信全双工不使用协议无冲突半双工通信方式可能发生冲突使用协议吉比特以太网只能全双工以太网子层地址地址是对网络上各接口的唯一标识而不是对网络上各设备的唯一标识路由器有多个接口所以有多个地址地址格式帧有三种单播广播多播单播帧一对一广播帧一对全体广播地址多播帧一对多多播地址第二个数是奇数代表是多播地址虚拟局域网是一种将局域网内的站点划分成与物理位置无关的逻辑组的技术一个逻辑组就是一个中的各站点具有某些共同的应用需求广播风暴广播风暴会浪费网络资源和各主机的资源可以使用路由器切割广播域防止广播风暴但是成本较高使用技术划分广播域注意点发送广播帧接口接收并打标签和相同的端口可以接收该帧进行去标签转发端口的如果等于该帧的也会先去标签转发然后再打标签否则直接转发端口是连接两个交换机的插入标签的帧称为帧首部添加字节最大帧长增加为字节广域网概述协议概述点对点协议是目前使用最广泛的点对点数据链路层协议协议的个组成部分一个将数据报封装到串行链路的方法网络控制协议可支持多种网络层协议每个不同的网络层协议都要一个相应的来配置为网络层协议建立和配置逻辑连接链路控制协议建立并维护数据链路连接身份验证的帧格式的透明传输异步传输字符填充同步传输比特填充的状态图协议特点不使用序号和确认机制只保证无差错接收因此是不可靠服务只支持全双工点对点链路不支持多点线路的两端可以运行不同的网络层协议但仍可使用同一个进行通信是面向字节的所有帧的长度都是整数个字节链路层设备网桥网桥可以连接两个不同的网络而不增大碰撞域交换机集线器交换机总结使用集线器的共享式以太网如果有个用户每个用户的平均带宽为如果使用以太网交换机全双工连接每个用户平均带宽为所以有个接口的交换机总容量为半双工则减小一半这是交换机的最大优点透明网桥的生成树协议为了提高以太网的可靠性有时需要在两个以太网之间使用多个透明网桥来提供冗余链路为了避免广播帧在环路中永久兜圈透明网桥使用生成树协议可以在增加冗余链路提高网络可靠性的同时又避免环路带来的问题思维导图和习题第章数据链路层思维导图第章数据链路层思维导图第章数据链路层思维导图第章数据链路层习题第部分第章数据链路层习题第部分网络层概述网络层的主要任务将分组从源主机经过多个网络和多段链路传输到目的主机可以将该任务划分为分组转发和路由选择两种重要的功能网络层提供的两种服务虚电路服务虚电路服务特点虚电路提供的是面向连接的可靠的服务虚表示这是一条逻辑上的连接不是专用的分组沿着这条逻辑连接按照存储转发方式传送而不是真正建立了一条物理连接建立连接和拆除都需要时间开销不适用于突发式通信但对长时间频繁的数据交换效率较高致命弱点虚电路上如果某个结点或链路出现故障相当于电线被剪断了所有经过这个结点或链路的虚电路都会遭到破坏需要重新建立连接分组的首部仅在连接建立阶段使用完整的目的主机地址之后每个分组的首部只需要携带一条虚电路编号即可数据报服务数据报服务特点使用的就是这种简单灵活的无连接的不可靠的数据报服务核心思想可靠通信应由用户主机来保证由于网络自身不提供端到端的可靠传输服务这就使得网络中的路由器可以做得比较简单大大降低了网络造价这种设计思想的运行方式灵活能够适应多种应用因特网能够发展到今日的规模充分证明了当初采取这种设计思想的正确性结构区别网络层可抽象划分为数据平面转发和控制平面路由选择传统路由选择算法运行在每台路由器中并且在每台路由器中都包含转发和路由选择两种功能控制平面从路由器物理上分离路由器仅实现转发远程控制器计算和分发转发表以供每台路由器所使用路由选择处理器概述网际协议是体系结构网际层中的核心协议地址就是给因特网上的每一台主机或路由器的每一个接口分配一个在全世界范围内是唯一的比特的标识符首部格式各个字段及描述字段描述版本长度为个比特用来表示协议的版本通信双方使用的协议的版本必须一致目前广泛使用的协议的版本号为即首部长度长度为个比特该字段的取值以为单位用来表示数据报的首部长度最小取值为二进制的即十进制的再乘以字节单位表示数据报首部只有字节固定部分最大取值为二进制的即十进制的再乘以字节单位表示数据报首部包含字节固定部分和最大字节可变部分总长度长度为个比特该字段的取值以字节为单位用来表示数据报的长度首部长度数据载荷长度最大取值为二进制的个比特即十进制的很少传输这么长的数据报标识长度为个比特属于同一个数据报的各分片数据报应该具有相同的标识标志最低位表示本分片后面还有分片表示本分片后面没有分片中间位表示不允许分片表示允许分片最高位为保留位必须设置为片偏移长度为个比特该字段的取值以为单位用来指出分片数据报的数据载荷偏移其在原数据报的位置有多远只能为整数否则必须调整前一个分片长度生存时间长度为个比特最大取值为二进制的即十进制的该字段的取值最初以秒为单位因此数据报的最大生存时间最初为秒路由器转发数据报时将其首部中该字段的值减去该数据报在路由器上所耗费的时间若结果不为就转发否则就丢弃生存时间字段后来改为以跳数为单位路由器收到待转发的数据报时将其首部中的该字段的值减若结果不为就转发否则就丢弃协议长度为个比特用来指明数据报的数据载荷是何种协议数据单元首部检验和长度为个比特用于检测数据报在传输过程中其首部是否出现了差错数据报每经过一个路由器其首部中的某些字段的值例如生存时间标志以及片偏移等都可能发生变化因此路由器都要重新计算一下首部检验和源地址和目的地址长度都为个比特用来填写发送接收数据报的源目的主机的地址最大传送单元超过最大传送单元的长度的数据报必须分片编址方式分类编址的划分子网的分类编址方法不够灵活且容易造成大量地址浪费划分子网编址方法对其进行改进打补丁划分子网案例无分类域间路由选择练习路由聚合找出共同前缀其余位取数据报的发送和转发过程数据报的发送和转发过程主机发送数据报判断目的主机是否与自己在同一个网络若在同一个网络则属于直接交付直接发送给目的主机若不在同一个网络则属于间接交付传输给主机所在网络的默认网关路由器由默认网关帮忙转发路由器转发数据报检查数据报首部是否出错若出错则直接丢弃该数据报并通告源主机若没有出错则进行转发根据数据报的目的地址在路由表中查找匹配的条目若找到匹配的条目则转发给条目中指示的下一跳若找不到则丢弃该数据报并通告源主机路由器不转发广播数据报即路由器隔离广播域如果因特网中数量巨大的路由器收到广播数据报后都进行转发则会造成巨大的广播风暴严重浪费因特网资源中继器和集线器工作在物理层既不隔离冲突域也不隔离广播域网桥和交换机多端口网桥工作在数据链路层可以隔离冲突域不能隔离广播域路由器工作在网络层既隔离冲突域也隔离广播域是根据地址获取地址的一个协议主机中保存了一个高速缓存表记录了和的对应关系协议动态获取地址总结协议只能逐链路相邻使用不能跨网络使用静态路由配置静态路由的配置默认路由默认路由默认路由条目中的目的网络其中表示任意网络而网络前缀相应的地址掩码为是最短的网络前缀特定主机路由特定主机路由条目中的目的网络其中是特定主机的地址而网络前缀相应地址掩码为是最长的网络前缀路由器在查找转发表转发数据报时遵循最长前缀匹配的原则因此默认路由匹配优先级最低特定主机路由条目的匹配优先级最高路由环路错误配置静态路由有可能导致路由环路问题为了防止数据报在环路中永久兜圈在数据报首部设有生存时间为时会被丢弃路由环路问题产生原因路由配置错误聚合了不存在的地址需要给不存在的地址配置黑洞路由防止数据报转发到其他路由器网络故障可以在网络发生故障时添加一条针对该的黑洞路由待网络正常后又将其设置为失效状态概述动态主机配置协议作用可为计算机自动配置网络参数包括地址子网掩码默认网关服务器工作过程中继代理路由选择协议路由选择分为两类静态路由选择动态路由选择采用人工配置的方式给路由器添加网络路由默认路由和特定主机路由等路由条目路由器通过路由选择协议自动获取路由信息静态路由选择简单开销小但不能及时适应网络状态流量拓扑等的变化动态路由选择比较复杂开销比较大但能较好地适应网络状态的变化静态路由选择一般只在小规模网络中采用动态路由选择适用于大规模网络因特网采用分层次的路由选择协议因特网是全球最大的互联网它所采取的路由选择协议具有以下三个主要特点自适应因特网采用动态路由选择能较好地适应网络状态的变化分布式因特网中的各路由器通过相互间的信息交互共同完成路由信息的获取和更新分层次将整个因特网划分为许多较小的自治系统在自治系统内部和外部采用不同类别的路由选择协议分别进行路由选择路由信息协议是内部网关协议中最先得到广泛使用的协议之一概述使用跳数作为度量来衡量到达目的网络的距离距离向量将路由器到直连网络的距离定义为将路由器到非直连网络的距离定义为所经过的路由器数加允许一条路径最多只能包含个路由器距离等于时相当于不可达因此只适用于小型互联网认为好的路由就是距离短的路由也就是所通过路由器数量最少的路由和传输速率和物理距离等无关的个重要特点工作原理基本流程更新规则坏消息传播的慢优缺点优点缺点实现简单路由器开销小限制了最大距离为这就限制了使用的自治系统的规模如果一个路由器发现了距离更短的路由那么这种更新信息就传播得很快即好消息传播得快相邻路由器之间交换的路由信息是路由器中的完整路由表因而随着网络规模的扩大开销也随之增大坏消息传播得慢使更新过程的收敛时间过长因此对于规模较大的自治系统应当使用协议基本概念开放最短路径优先协议是为了克服路由信息协议的缺点在年开发出来的开放表明协议不是受某一厂商控制而是公开发表的最短路径优先是因为使用了提出的最短路径算法特点是基于链路状态的而不像是基于距离向量的基于链路状态并采用最短路径算法计算路由从算法上保证了不会产生路由环路不限制网络规模更新效率高收敛速度快相关概念链路状态是指本路由器都和哪些路由器相邻以及相应链路的代价类似中的距离代价用来表示费用距离时延和带宽等这些都由网络管理人员来决定路由器邻居关系的建立和维护如果在死亡倒计时为时还未收到邻居的问候分组则认为该邻居不可达在接受到邻居的问候分组后刷新死亡倒计时为路由器每会向邻居发送问候分组链路状态数据库使用的各路由器基于链路状态数据库进行最短路径优先计算构建出各自到达其他各路由器的最短路径即构建各自的路由表根据链路状态数据库得出全局带权有向图使用算法得出个路由器的最短路径的五种分组类型类型问候分组用来发现和维护邻居路由器的可达性类型数据库描述分组向邻居路由器给出自己的链路状态数据库中的所有链路状态项目的摘要信息类型链路状态请求分组向邻居路由器请求发送某些链路状态项目的详细信息类型链路状态更新分组路由器使用这种分组将其链路状态进行洪泛发送即用洪泛法对全网更新链路状态类型链路状态确认分组这是对链路状态更新分组的确认分组基本工作原理采用划分区域的方法虽然使交换信息的种类增多了同时也使协议更加复杂了但这样做能使每一个区域内部交换路由信息的通信量大大减小因而使协议能够用于规模更大的自治系统基本概念边界网关协议属于外部网关协议这个类别用于自治系统之间的路由选择协议由于在不同内度量路由的代价距离带宽费用等可能不同因此对于之间的路由选择使用统一的代价作为度量来寻找最佳路由是不行的之间的路由选择还必须考虑相关策略政治经济安全等总结只能是力求寻找一条能够到达目的网络且比较好的路由即不能兜圈子而并非要寻找一条最佳路由在配置时每个的管理员要选择至少一个路由器作为该的发言人一般来说两个发言人都是通过一个共享网络连接在一起的而发言人往往就是边界路由器使用连接交换路由信息的两个发言人彼此称为对方的邻站或对等站发言人除了运行协议外还必须运行自己所在所使用的内部网关协议例如或发言人交换网络可达性的信息也就是要到达某个网络所要经过的一系列自治系统当发言人相互交换了网络可达性的信息后各发言人就根据所采用的策略从收到的路由信息中找出到达各自治系统的较好的路由也就是构造出树形结构且不存在环路的自治系统连通图四种报文基本概念为了更有效地转发数据报以及提高数据报交付成功的机会体系结构的网际层使用了网际控制报文协议主机或路由器使用来发送差错报告报文和询问报文报文被封装在数据报中作为数据载荷发送报文数据类型差错报告报文用来向主机或路由器报告差错情况终点不可达当路由器或主机不能交付数据报时就向源点发送终点不可达报文具体可再根据的代码字段细分为目的网络不可达目的主机不可达目的协议不可达目的端口不可达目的网络未知目的主机未知等种源点抑制当路由器或主机由于拥塞而丢弃数据报时就向发送该数据报的源点发送源点抑制报文使源点知道应当把数据报的发送速率放慢超时当路由器收到一个目的地址不是自己的数据报时会将其首部中生存时间字段的值减若结果不为则路由器将该数据报转发出去若结果为路由器不但要丢弃该数据报还要向发送该数据报的源点发送时间超过超时报文另外当终点在预先规定的时间内未能收到一个数据报的全部数据报分片时就把已收到的数据报片都丢弃也会向源点发送时间超过超时报文参数问题当路由器或目的主机收到数据报后根据其首部中的检验和字段的值发现首部在传送过程中出现了误码就丢弃该数据报并向发送该数据报的源点发送参数问题报文改变路由重定向路由器把改变路由报文发送给主机让主机知道下次应将数据报发送给另外的路由器这样可以通过更好的路由到达目的主机以下情况不应发送差错报告报文对差错报告报文不再发送差错报告报文对第一个分片的数据报片的所有后续数据报片都不发送差错报告报文对具有多播地址的数据报都不发送差错报告报文对具有特殊地址例如或的数据报不发送差错报告报文询问报文用来向主机或路由器询问情况回送请求和回答由主机或路由器向一个特定的目的主机或路由器发出收到此报文的主机或路由器必须给发送该报文的源主机或路由器发送回送回答报文这种询问报文用来测试目的站是否可达以及了解其有关状态时间戳请求和回答用来请求某个主机或路由器回答当前的日期和时间在时间戳回答报文中有一个比特的字段其中写入的整数代表从年月日起到当前时刻一共有多少秒这种询问报文用来进行时钟同步和测量时间的典型应用分组网间探测在命令行中使用命令用来测试主机或路由器之间的连通性是体系结构的应用层直接使用网际层的一个例子它并不使用运输层的或应用所使用的报文类型为回送请求和回答跟踪路由应用用于探测数据报从源主机到达目的主机要经过哪些路由器在不同操作系统中应用的命令和实现机制有所不同在版本中具体命令为其在运输层使用协议在网络层使用报文类型只有差错报告报文在版本中具体命令为其应用层直接使用网际层的协议所使用的报文类型有回送请求和回答报文以及差错报告报文原理设置数据报为经过第一个路由器时减为数据报被丢弃路由器向源主机发送超时差错报告报文这样就知道了经过的第一个路由器的地址以此类推依次设置为直到接收到目的主机的回送请求回答报文虚拟专用网利用公用的因特网作为本机构各专用网之间的通信载体这样形成的网络又称为虚拟专用网专用地址地址块地址块地址块很显然全世界可能有很多不同机构的专用网具有相同的专用地址但这并不会引起麻烦因为这些专用地址仅在机构内部使用注意在因特网中的所有路由器对目的地址是专用地址的数据报一律不进行转发这需要由因特网服务提供者对其拥有的因特网路由器进行设置来实现需要自己对路由器额外配置概述背景尽管因特网采用了无分类编址方法来减缓地址空间耗尽的速度但由于因特网用户数量的急剧增长特别是大量小型办公室和家庭网络接入因特网的需求不断增加地址空间即将耗尽的危险然仍没有解除实际上因特网号码分配管理局于年月日宣布地址已经分配完毕网络地址转换技术于年被提出用来缓解地址空间即将耗尽的问题能使大量使用内部专用地址的专用网络用户共享少量外部全球地址来访问因特网上的主机和资源这种方法需要在专用网络连接到因特网的路由器上安装软件装有软件的路由器称为路由器它至少要有一个有效的外部全球地址这样所有使用内部专用地址的主机在和外部因特网通信时都要在路由器上将其内部专用地址转换成网络地址与端口号转换方法将和运输层端口号结合使用称为网络地址与端口号转换由于目前绝大多数基于协议栈的网络应用都使用运输层的传输控制协议或用户数据报协议为了更加有效地利用路由器中的全球地址现在常将转换和运输层端口号结合使用这样就可以使内部专用网中使用专用地址的大量主机共用路由器上的个全球地址因而可以同时与因特网中的不同主机进行通信现在很多家用路由器将家中各种智能设备手机平板笔记本电脑台式电脑物联网设备等接入因特网这种路由器实际上就是一个路由器但往往并不运行路由选择协议由于对外网屏蔽了内网主机的网络地址能为内网的主机提供一定的安全保护思维导图和习题第章网络层思维导图第章网络层思维导图第章网络层思维导图第章网络层思维导图第章网络层习题第部分第章网络层习题第部分运输层概述第章依次介绍了计算机网络体系结构中的物理层数据链路层和网络层它们共同解决了将主机通过异构网络互联起来所面临的问题实现了主机到主机的通信然而在计算机网络中实际进行通信的真正实体是位于通信两端主机中的进程如何为运行在不同主机上的应用进程提供直接的逻辑通信服务就是运输层的主要任务运输层协议又称为端到端协议端口号复用和分用运输层端口号运行在计算机上的进程是使用进程标识符来标识的然而因特网上的计算机并不是使用统一的操作系统而不同操作系统又使用不同格式的进程标识符为了使运行不同操作系统的计算机的应用进程之间能够基于网络进行通信就必须使用统一的方法对体系的应用进程进行标识体系结构的运输层使用端口号来标识和区分应用层的不同应用进程端口号的长度为比特取值范围是端口号只具有本地意义即端口号只是为了标识本计算机网络协议栈应用层中的各应用进程在因特网中不同计算机中的相同端口号是没有关系的即相互独立另外和端口号之间也是没有关系的发送方的复用和接收方的分用复用定义复用是指将多个应用程序的数据流合并到一个共享的通信通道上中的复用在中复用通过源端口号来实现连接的两端使用地址和端口号来唯一标识源端口号表示发送端的应用程序目的端口号表示接收端的应用程序这样在单个连接中多个应用程序的数据可以共享同一个物理通信通道中的复用在中复用同样通过源端口号来实现报文的源端口号用于标识发送端的应用程序目的端口号用于标识接收端的应用程序分用定义分用是指根据数据流中的标识信息将合并的数据流分发给正确的应用程序中的分用在中分用通过目的端口号来实现接收端根据目的端口号将接收到的数据分发给相应的应用程序这样层能够将数据正确地传递给目标应用程序中的分用在中同样通过目的端口号来实现分用接收端通过目的端口号确定应该将数据交付给哪个应用程序常见协议的分类运输层端口号应用举例和的对比注意面向连接是逻辑连接并非真实物理连接面向字节流面向应用报文只是给数据报添加一个首部只支持单播支持单播多播和广播提供可靠服务提供不可靠服务的流量控制概述为应用程序提供了流量控制机制以解决因发送方发送数据太快而导致接收方来不及接收造成接收方的接收缓存溢出的问题流量控制的基本方法接收方根据自己的接收能力接收缓存的可用空间大小控制发送方的发送速率流量控制方法流程例题的拥塞控制基本概念种拥塞控制方法慢开始拥塞避免快重传快恢复快重传算法和快恢复算法改进性能年版本问题快重传采用快重传算法可以让发送方尽早知道发生了个别报文段的丢失快重传是指使发送方尽快尽早进行重传而不是等重传计时器超时再重传这就要求接收方不要等待自己发送数据时才进行捎带确认而是要立即发送确认即使收到了失序的报文段也要立即发出对已收到的报文段的重复确认发送方一旦收到个连续的重复确认就将相应的报文段立即重传而不是等该报文段的重传计时器超时再重传快恢复与快重传算法配合使用的是快恢复算法发送方一旦收到个重复确认就知道现在只是丢失了个别的报文段于是不启动慢开始算法而是执行快恢复算法快恢复算法发送方将慢开始门限的值和拥塞窗口的值都调整为当前值的一半并开始执行拥塞避免算法也有的快恢复实现是把快恢复开始时的值再增大一些即新超时重传时间的选择超时重传时间的选择是最复杂的问题之一问题超时重传时间设置过小在确认报文段发送给接收方的过程中发送方重传数据报文增大了网络负荷超时重传时间设置过大需要重传数据报文时推迟时间太长网络空闲时间大降低了传输效率超时重传时间应略大于往返时间的选择的计算和的计算发生超时重传时无法测准通过上述两个例子可以看出当发送方出现超时重传后收到确认报文段时是无法判断出该确认到底是对原数据报文段的确认还是对重传数据报文段的确认也就是无法准确测量出进而无法正确计算算法及修正总结可靠传输的实现的窗口以字节为单位发送方发送窗口内的已发送数据如果迟迟未收到确认会发生超时重传只有处于发送窗口内的数据才能发送接收方接收方只能对按序收到的数据中的最高序号给出累计确认次重复确认会导致发送方快重传序号落入接收窗口内的数据是允许接收的数据总结的运输连接管理连接的建立双方连接的建立要解决的三个问题三报文握手思考第三次确认是否多余能不能两报文握手答案不能如下图所示四报文挥手思考为什么客户端发送完最后一个确认报文段后不立刻关闭而是等待个时间后才关闭答案如图所示保活计时器的作用报文段首部格式参阅思维导图思维导图和习题第章运输层思维导图第章运输层思维导图第章运输层习题应用层概述应用层是计算机网络体系结构的最顶层是设计和建立计算机网络的最终目的也是计算机网络中发展最快的部分早期基于文本的应用电子邮件远程登录文件传输新闻组世纪年代将因特网带入千家万户的万维网当今流行的即时通信文件共享及各种音视频应用计算设备的小型化和无处不在宽带住宅接入和无线接入的日益普及和迅速发展为未来更多的新型应用提供了广阔的舞台客户服务器和对等方式方式方式域名系统域名系统的作用因特网的域名结构因特网采用层次树状结构的域名结构域名规范不同国家的域名因特网的域名空间域名服务器域名解析递归查询迭代查询高速缓存文件传送协议基本工作原理主动模式被动模式电子邮件电子邮件系统的组成邮件发送和接收过程简单邮件传送协议的基本工作过程电子邮件的信息格式多用途因特网邮件扩展对邮件内容中的非字符转换成字符常用邮件读取协议邮局协议因特网邮件访问协议基于万维网的电子邮件万维网概述万维网并非某种特殊的计算机网络它是一个大规模的联机式的信息储藏所是运行在因特网上的一个分布式应用万维网利用网页之间的超链接将不同网站的网页链接成一张逻辑上的信息网万维网是欧洲粒子物理实验室的最初于年月提出的统一资源定位符万维网文档概述超文本传输协议定义了浏览器即万维网客户进程怎样向万维网服务器请求万维网文档以及万维网服务器怎样把万维网文档传送给浏览器报文格式请求报文格式响应报文格式早期的万维网应用非常简单仅仅是用户查看存放在不同服务器上的各种静态的文档因此被设计为一种无状态的协议这样可以简化服务器的设计现在用户可以通过万维网进行各种复杂的应用如网上购物电子商务等这些应用往往需要万维网服务器能够识别用户提供了一种机制使得万维网服务器能够记住用户而无需用户主动提供用户标识信息也就是说是一种对无状态的进行状态化的技术万维网缓存与代理服务器思维导图和相关习题第章应用层思维导图第章应用层思维导图第章应用层习题计算机网络相关术语确认非对称数字用户线接入点应用程序应用编程接口亚太网络信息中心美国因特网号码注册机构地址解析协议美国国防部远景研究规划局高级研究计划署自动重传请求自制系统边界网关协议引导程序协议基本服务区一种程序认证中心碰撞避免有线电视码分复用码分多址通用网关接口无分类域间路由选择循环冗余校验载波监听多址接入碰撞检测载波监听多点接入冲突避免允许发送数字交接系统动态主机配置协议区分服务数据链路连接标识符离散多音调制域名系统拒绝服务分配系统数字用户线数字用户线接入复用器直接序列扩频第一英里的以太网迅速转发每跳行为外部网关协议美国电子工业协会帧检验序列光纤分布式数据接口频分复用转发等价类全功能设备跳频扩频先进先出公平排队文件传输协议全球移动通信系统体制高级数据链路控制高速数字用户线高速研究组超文本标记语言超文本传送协议因特网体系结构委员因特网赋号管理局网际控制报文协议美国电气和电子工程师学会帧间间隔网际组管理协议内部网关协议及时传信因特网报文存取协议综合服务网际协议控制协议下一代安全协议综合业务数字网国际标准化组织因特网协会因特网服务提供者局域网链路控制协议标记分配协议逻辑链路控制标记交换路由器媒体接入控制具有碰撞避免的多点接入城域网多播主干网多点控制单元报文摘要还有分片最大接收单元最长报文段最大传送单元网络接入点网络地址转换网络分配向量网络控制协议网络文件系统网络运行中心网络层服务访问点美国国家科学基金会正交频分复用开发系统互连基本参考模型开放最短通路优先对等方式个人区域网口令鉴别协议政策认证中心点协调功能脉码调制因特网的正式邮件加密标准一种电子邮件的机密标准每跳行为点协调功能帧间间隔公钥公开密钥汇接点邮局协议点对点协议以太网上的点对点协议正交幅度调制服务质量正交相移键控逆地址解析协议精简功能设备研究组路由信息协议法文表示的欧洲的网络实时传送协议实时流式协议往返时间安全关联选择确认服务访问点流控制传输协议同步数字系列管理信息结构简单邮件传送协议系统网络体系结构简单网络管理协议首部开始同步光纤网统计时分复用同步传递模块同步传送信号标记交换传输控制程序块传输控制协议时分复用电传机网络一种因特网的应用程序简单文件传送协议电信行业协会顶级域名运输层接口运输层安全协议类型长度值运输协议数据单元用户数据报协议统一资源定位符无屏蔽双绞线超宽带虚电路甚高数字用户线虚拟局域网虚拟专用网广域网波分复用工作组无线保真度无限局域网的同义词无线局域网无线个城域网无线个人区域网无线传感器网络万维网脚注互联网服务提供商电信移动联通是协议中的一个重要标志表示确认是夏威夷人表示致意的问候语这项研究计划的目的是要解决夏威夷群岛之间的通信问题待用图片',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-27 17:23:16',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/self/onedark.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/></pre></li><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script>new LingQue.Monitor().init({id:"3IEsVRMsUqe5mGFc"});</script><meta name="generator" content="Hexo 7.2.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://img2.imgtp.com/2024/04/04/A1kg7et8.gif"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">分站</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://caolib.github.io" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="github"/><span class="back-menu-item-text">github</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://clb.pages.dev" title="Cloudflare"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/cloudflare.svg" alt="Cloudflare"/><span class="back-menu-item-text">Cloudflare</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://caolib.vercel.app" title="vercel"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/vercel.svg" alt="vercel"/><span class="back-menu-item-text">vercel</span></a><a class="back-menu-item" href="https://clibin.gitee.io" title="gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/gitee.svg" alt="gitee"/><span class="back-menu-item-text">gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">我</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/caolib" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="github"/><span class="back-menu-item-text">github</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/clibin" title="gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/gitee.svg" alt="gitee"/><span class="back-menu-item-text">gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">友链</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://yuzaoqie.github.io" title="man"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="man"/><span class="back-menu-item-text">man</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">学海无涯</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 留言</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="微信" src="/null"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/null"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/NOSQL/" style="font-size: 1.05rem;">NOSQL<sup>1</sup></a><a href="/tags/apifox/" style="font-size: 1.05rem;">apifox<sup>1</sup></a><a href="/tags/axios/" style="font-size: 1.05rem;">axios<sup>1</sup></a><a href="/tags/c/" style="font-size: 1.05rem;">c++<sup>1</sup></a><a href="/tags/everything/" style="font-size: 1.05rem;">everything<sup>1</sup></a><a href="/tags/gateway/" style="font-size: 1.05rem;">gateway<sup>1</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>1</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>2</sup></a><a href="/tags/jwt/" style="font-size: 1.05rem;">jwt<sup>1</sup></a><a href="/tags/linux/" style="font-size: 1.05rem;">linux<sup>1</sup></a><a href="/tags/markdown/" style="font-size: 1.05rem;">markdown<sup>1</sup></a><a href="/tags/mybatis/" style="font-size: 1.05rem;">mybatis<sup>2</sup></a><a href="/tags/mysql/" style="font-size: 1.05rem;">mysql<sup>3</sup></a><a href="/tags/nacos/" style="font-size: 1.05rem;">nacos<sup>1</sup></a><a href="/tags/npm/" style="font-size: 1.05rem;">npm<sup>1</sup></a><a href="/tags/os/" style="font-size: 1.05rem;">os<sup>1</sup></a><a href="/tags/pinia/" style="font-size: 1.05rem;">pinia<sup>1</sup></a><a href="/tags/redis/" style="font-size: 1.05rem;">redis<sup>2</sup></a><a href="/tags/shields/" style="font-size: 1.05rem;">shields<sup>1</sup></a><a href="/tags/springboot/" style="font-size: 1.05rem;">springboot<sup>2</sup></a><a href="/tags/springcloud/" style="font-size: 1.05rem;">springcloud<sup>2</sup></a><a href="/tags/windows/" style="font-size: 1.05rem;">windows<sup>1</sup></a><a href="/tags/%E6%90%9C%E7%B4%A2/" style="font-size: 1.05rem;">搜索<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.05rem;">数据库<sup>2</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE/" style="font-size: 1.05rem;">标签<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 1.05rem;">测试<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">计算机网络<sup>1</sup></a><a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size: 1.05rem;">邮件<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%80%83%E7%A0%94/" itemprop="url">考研</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>计算机网络</span></a></span></div></div><h1 class="post-title" itemprop="name headline">计算机网络</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-10-26T13:04:32.000Z" title="发表于 2023-10-26 21:04:32">2023-10-26</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-04-27T09:23:16.219Z" title="更新于 2024-04-27 17:23:16">2024-04-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">21k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>67分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="计算机网络"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为江西"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>江西</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://img2.imgtp.com/2024/04/26/bIFqmrVZ.jpeg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><header><a class="post-meta-categories" href="/categories/%E8%80%83%E7%A0%94/" itemprop="url">考研</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" tabindex="-1" itemprop="url">计算机网络</a><h1 id="CrawlerTitle" itemprop="name headline">计算机网络</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">caolibin</span><time itemprop="dateCreated datePublished" datetime="2023-10-26T13:04:32.000Z" title="发表于 2023-10-26 21:04:32">2023-10-26</time><time itemprop="dateCreated datePublished" datetime="2024-04-27T09:23:16.219Z" title="更新于 2024-04-27 17:23:16">2024-04-27</time></header><h1>计算机网络</h1>
<p><a target="_blank" rel="noopener" href="https://git.io/typing-svg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://readme-typing-svg.demolab.com?font=Cascadia+Code&weight=900&size=60&duration=2000&pause=1000&center=true&vCenter=true&random=false&width=1000&height=100&lines=Computer+Network+" alt="Typing SVG" /></a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/caolib/md_notes/blob/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.md">下载文件</a></p>
<h2 id="1-计算机网络概述">1. 计算机网络概述</h2>
<h3 id="1-1-计网的组成">1.1 计网的组成</h3>
<h4 id="概念">概念</h4>
<p>简单定义：<strong>硬件</strong>(独立和连接)+<strong>软件</strong>(协议)+<strong>目的</strong>(共享和通信)</p>
<blockquote>
<p><strong>计算机网络就是以传输信息为基本目的,用通信线路和通信设备将多个计算机连接起来的计算机系统的集合</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/06/8bp2LLjc.png" alt="CopyQ.XjcbYs"></p>
<h4 id="分类">分类</h4>
<blockquote>
<p>按网络<strong>覆盖范围</strong>进行分类</p>
</blockquote>
<ol>
<li><strong>局域网</strong>(Local Area Network,<code>LAN</code>,一个实验室、一幢楼、一个校园)</li>
<li><strong>城域网</strong>(Metropolitan Area Network,<code>MAN</code>,几个街区甚至整个城市,5-50 km)</li>
<li><strong>广域网</strong>(Wide Area Network,<code>WAN</code>,覆盖一个国家或地区甚至几个洲,也称为<strong>远程网</strong>)</li>
<li><strong>个人区域网</strong>(Personal Area Network,<code>PAN</code>,10 m以内)</li>
</ol>
<blockquote>
<p>按网络的<strong>使用者</strong>进行分类</p>
</blockquote>
<ol>
<li><strong>公用网</strong>(所有愿意缴纳费用的人都能使用)</li>
<li><strong>专用网</strong>(专门为本单位的特殊业务工作建造的,例如,军队、铁路、电力等系统)</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Nqa5DJOR.png" alt="计算机网络分类" title='计算机网络的分类' />
<h4 id="组成">组成</h4>
<h5 id="组成部分">组成部分</h5>
<blockquote>
<p>计算机网络主要由<strong>硬件</strong>、<strong>软件</strong>、<strong>协议</strong>组成</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/06/2ynHlxA5.png" alt="image-20240406104102808"></p>
<h5 id="工作方式">工作方式</h5>
<p>从<strong>工作方式</strong>上看,计算机网络可分为：</p>
<ol>
<li><strong>边缘部分</strong>：用户直接使用的</li>
<li><strong>核心部分</strong>：为边缘部分提供服务的</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/zI8FwGzp.png" title="woc,O" style="zoom: 67%;" />
<h5 id="逻辑功能">逻辑功能</h5>
<p>从逻辑功能上看,计算机网络由通信子网和资源子网组成</p>
<ul>
<li><strong>通信子网</strong>：由各种<strong>传输介质</strong>、<strong>通信设备</strong>和相应的<strong>网络协议</strong>组成</li>
<li><strong>资源子网</strong>：实现资源共享功能的<strong>设备</strong>及其<strong>软件</strong>的集合</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/sT1JdhEz.png" alt="image-20240404154608008"></p>
<h3 id="1-2-功能">1.2 功能</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/06/fIl3XYce.png" alt="image-20240406104955734"></p>
<h3 id="1-3-互联网">1.3 互联网</h3>
<h4 id="网络的网络">网络的网络</h4>
<ol>
<li>网络</li>
</ol>
<blockquote>
<p><strong>网络</strong>由若干<strong>节点</strong>(Node)和连接这些节点的<strong>链路</strong>(Link)组成</p>
<p>节点：可以是计算机、集线器、交换机、路由器</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/84kZGy2h.png" title="网络" style="zoom:80%;" />
<ol start="2">
<li><strong>互连网络</strong>(<code>internet</code>,通用名词,<span style="color:#ff6b6b;font-weight:bold;font-size:20px">注意和 互联网Internet 区分</span>)</li>
</ol>
<blockquote>
<p>将网络用路由器连接起来就成了互连网络,因此互连网络是<strong>网络的网络</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/QuZM13pW.png" title="互连网络就是网络的网络" style="zoom:80%;" />
<blockquote>
<p>总结：<strong>网络把许多计算机连接在一起,而互连网络则把许多网络连接在一起</strong></p>
</blockquote>
<ol start="3">
<li><strong>互联网</strong>(Internet,也称 因特网)</li>
</ol>
<blockquote>
<p>当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络,<strong>采用TCP/IP协议作为通信规则</strong>,前身是美国的阿帕网<code>ARPANet</code></p>
</blockquote>
<h4 id="互联网结构发展">互联网结构发展</h4>
<ol>
<li>
<p>第一阶段：从单个网络<code>ARPANET</code>向互连网络发展</p>
</li>
<li>
<p>第二阶段：逐步建成三级结构的互联网</p>
</li>
<li>
<p>第三阶段：逐渐形成多层次的[^ISP]结构的互联网</p>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/2jKLXwuK.png" title="ISP结构的互联网" style="zoom: 67%;"/>
<h3 id="1-4-电路、报文、分组交换">1.4 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19E411D78Q?t=0.0&amp;p=4">电路、报文、分组交换</a></h3>
<h4 id="电路交换">电路交换</h4>
<blockquote>
<p>电路交换是指在通信开始之前,建立一条专用的<strong>物理连接</strong>,然后在通信过程中<strong>一直占用这条连接</strong>,直到通信结束。在这个过程中,数据被分成固定大小的数据包,每个数据包都被分配一个专用的物理通路,<strong>适用于低频次、大量地传输数据</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/6OxFTe0R.png" alt="电路交换"></p>
<blockquote>
<p>这种必须经过 1.<strong>建立连接</strong>(分配通信资源) 2.<strong>通信</strong>(一直占用通信资源) 3.<strong>释放连接</strong>(归还通信资源)三个步骤的交换方式称为电路交换</p>
<p>优点：通信<strong>时延小</strong>、<strong>有序传输</strong>、<strong>没有冲突</strong>、传输<strong>速度快</strong>、<strong>控制简单</strong>等</p>
<p>缺点：</p>
<ul>
<li><strong>建立/释放连接</strong>都需要<strong>额外的时间开销</strong></li>
<li><strong>线路</strong>被通信双方<span style="color:#ff6b6b;font-weight:bold">独占</span>,<strong>利用率低</strong></li>
<li><strong>线路分配</strong>的<strong>灵活性差</strong>(某段线路出现错误时只能重新建立连接)</li>
<li>交换节点<strong>不支持“差错控制”</strong>(无法发现传输过程中的发生的数据错误)</li>
</ul>
<p><span style="color:#ff6b6b;font-weight:bold;font-size:18px">总结</span>:计算机之间数据往往是“<strong>突发式</strong>”传输,即往往会<strong>高频次、少量</strong>地传输数据,所以电路交换并不适用于计算机网络</p>
</blockquote>
<h4 id="报文交换">报文交换</h4>
<blockquote>
<p>我们通常把要发送的整块数据称为一个<strong>报文(Message)</strong>,<strong>用户数据</strong>加上<strong>源地址</strong>和<strong>目的地址</strong>等信息后封装成报文,报文交换采用<strong>存储转发</strong>技术,整个报文传送到相邻结点,全部存储下来后查找<strong>转发表</strong>,转发到下一个结点,直到到达目的地</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/RQWjb8wd.png" alt="image-20240404145149676" style="zoom:80%;" />
<blockquote>
<p>优点：</p>
<ul>
<li>通信前<strong>无需建立连接</strong></li>
<li>数据以“<strong>报文</strong>”为单位被交换节点间“<strong>存储转发</strong>”,通信<strong>线路可以灵活分配</strong></li>
<li>在通信时间内,两个用户无需独占一整条物理线路。相比于电路交换,<strong>线路利用率高</strong></li>
<li>交换节点支持“<strong>差错控制</strong>”(通过校验技术)</li>
</ul>
<p>缺点：</p>
<ul>
<li>报文不定长,<span style="color:#ff6b6b;font-weight:bold;">不方便存储转发管理</span></li>
<li>长报文的<span style="color:#ff6b6b;font-weight:bold;">存储转发时间开销大、缓存开销大</span></li>
<li><span style="color:#ff6b6b;font-weight:bold;">长报文容易出错,重传代价高</span>(报文出错且校验技术无法修复时需要重传,报文越长越明显)</li>
</ul>
</blockquote>
<h4 id="分组交换"><strong>分组交换</strong></h4>
<blockquote>
<p>分组交换：发送报文之前,<strong>先将报文划分为一个个更小的等长的数据段</strong>,在数据段前面加上<strong>首部</strong>(又称为包头)就构成了<strong>分组</strong>(又称为包),每个分组都带有<strong>目标地址</strong>和<strong>源地址</strong>等信息,然后通过网络传输。在传输过程中,每个数据包都独立传输,<strong>可以通过不同的路径</strong>到达目的地</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/8SrtXoUf.png" alt="分组交换" style="zoom: 80%;" />
<blockquote>
<p>分组交换的优点：</p>
<ul>
<li>通信前<strong>无需建立连接</strong></li>
<li>数据以“<strong>分组</strong>”为单位被交换节点间“<strong>存储转发</strong>”,通信线路可以<strong>灵活分配</strong></li>
<li>在通信时间内,两个用户<strong>无需独占</strong>一整条物理线路。相比于电路交换,<strong>线路利用率高</strong></li>
<li>交换节点<strong>支持“差错控制”</strong>(通过校验技术)</li>
</ul>
<p>相比于报文交换,分组交换改进了如下问题：</p>
<ul>
<li><strong>分组定长,方便存储转发管理</strong></li>
<li>分组的<strong>存储转发时间开销小、缓存开销小</strong></li>
<li>分组<strong>不易出错,重传代价低</strong></li>
</ul>
<p>分组交换的缺点：</p>
<ul>
<li>相比于报文交换,<strong>控制信息占比增加</strong></li>
<li>相比于电路交换,<strong>依然存在存储转发时延</strong></li>
<li>报文被拆分为多个分组,传输过程中可能出现<strong>失序、丢失</strong>等问题,<strong>增加处理的复杂度</strong></li>
</ul>
</blockquote>
<p><strong>3种交换方式的对比</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/7G4LaEvx.png" alt="交换方式对比"></p>
<div style="text-align: center;">
    <span style="color:#ff6b6b;font-weight:bold;font-size:25px;">总结：现代计算机网络采用分组交换技术</span>
</div>
### 1.5 计网的主要性能指标
<h4 id="1-速率">1. 速率</h4>
<blockquote>
<ol>
<li>
<p>数据的传输速率,也称为数据率、比特率 1字节(byte)=8比特(bit)</p>
</li>
<li>
<p>单位是 <code>bit/s 或 bps</code> ,比特是数据量的单位,是一个二进制数字(0或1)</p>
</li>
<li>
<p>一般来说,表示<strong>速率</strong>时<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">K = 10^{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span>,表示<strong>存储容量或文件大小</strong>时<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><msup><mn>2</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">k = 2^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
</ol>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src='https://img2.imgtp.com/2024/04/04/0oBrmEnl.png' alt='速率'>
<h4 id="2-带宽">2. 带宽</h4>
<ol>
<li>
<p>带宽本来是指某个信号具有的频带宽度,表示通信线路允许通过的信号频带范围,单位为赫兹</p>
</li>
<li>
<p>计算机网络中,带宽表示网络某通道传输能力,即最高数据率,单位为比特每秒(bit/s)</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/HNs5KlGu.png" alt='带宽'/>
</li>
</ol>
<h4 id="3-吞吐量">3. 吞吐量</h4>
<blockquote>
<p>也称为吞吐率,表示单位时间内通过某个网络(或信道、接口)的数据量</p>
</blockquote>
<h4 id="4-时延">4. 时延</h4>
<blockquote>
<p>时延是指数据从网络的一端传送到另外一端所需要的时间,也称为延迟或迟延</p>
<p>网络中的时延通常由以下几个不同的部分组成：</p>
<ol>
<li>
<p>发送时延：主机或路由器将整个分组的所有比特发送到通信线路上所需要的时间</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>发送时延</mtext><mo>=</mo><mfrac><mtext>分组长度</mtext><mtext>发送速率</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{发送时延} = \frac{\text{分组长度}}{\text{发送速率}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">发送时延</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">发送速率</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">分组长度</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>传播时延：是电磁波在信道中传播一定距离所花费的时间</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>传播时延</mtext><mo>=</mo><mfrac><mtext>信道长度</mtext><mtext>电磁波在信道上的传播速度</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{传播时延} = \frac{\text{信道长度}}{\text{电磁波在信道上的传播速度}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">传播时延</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">电磁波在信道上的传播速度</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">信道长度</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>处理时延：主机或路由器在收到分组时处理分组花费的时间(一般不方便计算)</p>
</li>
</ol>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/3MPbeO6Z.png" alt='时延'/>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ZdVAQDaU.png" alt="时延"></p>
<h4 id="5-时延带宽积-往返时间-利用率-丢包率">5. 时延带宽积 往返时间 利用率 丢包率</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/gJwUU2lk.png" alt="" style="zoom:;" />
<h3 id="1-6-计算机网络体系结构">1.6 <strong>计算机网络体系结构</strong></h3>
<h4 id="1-6-1-网络协议">1.6.1 网络协议</h4>
<p>网络协议主要由以下三要素组成：</p>
<ol>
<li><strong>语法</strong>：数据与控制信息的结构或格式(例如,地址字段多长以及它在分组的什么位置)</li>
<li><strong>语义</strong>：各个控制信息的具体含义(需要发出何种控制信息、完成何种动作及做出何种响应)</li>
<li><strong>同步(时序)</strong>：事件实现的顺序和时间的详细说明(数据何时发出以及以什么速率发出)</li>
</ol>
<h4 id="1-6-2-分层体系结构">1.6.2 分层体系结构</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/k6fK6Fth.png" alt="常见的计算机网络分层体系结构"></p>
<h4 id="1-6-3-原理体系结构">1.6.3 原理体系结构</h4>
<blockquote>
<p>我们学习的是具有五层协议的原理体系结构</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/aWnMqDAo.png" alt="原理体系结构"></p>
<h4 id="1-6-4-实体、协议和服务">1.6.4 实体、协议和服务</h4>
<blockquote>
<p><strong>协议是水平的,服务是垂直的</strong></p>
<ol>
<li>==实体==：任何可发送或接收信息的硬件或软件进程</li>
<li>==协议==：<strong>控制两个或多个对等实体之间通信的规则的集合</strong></li>
<li><strong>下层通过层级接口向上层提供服务,下面的协议对上面的实体是”透明“的</strong></li>
<li>透明：某个实际存在的事物看起来好像不存在一样</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/QxFzryw5.png" alt="实体、协议和服务"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ZEjjP9Xe.png" alt="1"></p>
<h3 id="1-7-相关习题">1.7 相关习题</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/YMD1YO49.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/apY4UiGK.png" alt=""></p>
<h3 id="1-8-思维导图和习题">1.8 思维导图和习题</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cqzI95zH7t6v">第1章 概述(思维导图)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cmCC5Updax17">第1章 概述 习题 (kdocs.cn)</a></li>
</ol>
<hr>
<h2 id="2-物理层">2. 物理层</h2>
<blockquote>
<p><strong>任务：怎样在连接各种计算机的传输媒体上传输数据比特流</strong>(使数据链路层感觉不到各种传输媒体之间的差异,只需要使用物理层服务就能传输比特流,不必关心具体怎么实现)</p>
</blockquote>
<h3 id="2-1-基本概念">2.1 基本概念</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/DwZwhVmK.png" alt="物理层的基本概念"></p>
<h3 id="2-2-数据通信的基础知识">2.2 数据通信的基础知识</h3>
<h4 id="通信系统模型">通信系统模型</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/RxOxpZHA.png" alt=""></p>
<h4 id="编码与调制">编码与调制</h4>
<ol>
<li>
<p>定义</p>
<ul>
<li>
<p>模拟信号：消息的参数的取值是连续的</p>
</li>
<li>
<p>数字信号：消息的参数的取值是离散的</p>
</li>
<li>
<p>编码：将<strong>数字数据转换成数字信号</strong>的过程</p>
</li>
<li>
<p>调制：将<strong>数字数据转换成模拟信号</strong>的过程</p>
</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ACtS6JxY.png" alt="编码与调制"></p>
<ol start="2">
<li><strong>常用编码方式</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/9MM2Ky5h.png" alt="常用编码方式"></p>
<ol start="3">
<li>基本的调制方法</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/vAkWNODU.png" alt="基本的调制方法"></p>
<ol start="4">
<li><strong>相位调制</strong></li>
</ol>
<blockquote>
<p><strong>8相位调制</strong>表示8种状态,只需要<strong>3个比特</strong>(二进制,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2^3=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>)即可,所以<strong>1个码元可以承载3个比特</strong>,<strong>数据传输率 = 3*波特率</strong>,以此类推</p>
</blockquote>
<h4 id="信道的极限容量">信道的极限容量</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/FXFhMUmi.png" alt="信号失真"></p>
<h5 id="奈式准则"><strong>奈式准则</strong></h5>
<blockquote>
<p>也称[<strong>奈奎斯特定理</strong>|<strong>采样定理</strong>],理想低通信道的最高码元传输速率 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∗</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">2*W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> 波特 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∗</mo><mi>W</mi><mo>∗</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>V</mi></mrow><annotation encoding="application/x-tex">2*W*\log_2{V}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span>​</p>
<p>V：一个码元可以表示的离散电平数目</p>
<p>W：频率带宽,最低和最高频率之差</p>
<p>理想低通信道：不考虑噪声</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/lU9RuLRg.png" alt="奈式准则"></p>
<h5 id="香农公式">香农公式</h5>
<blockquote>
<p><strong>香农公式</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>c</mi><mo>=</mo><mi>W</mi><mo>⋅</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mfrac><mi>S</mi><mi>N</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c = W \cdot \log_{2}(1 + \frac{S}{N})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>知道信噪比(dB)求S/N,假设信噪比为30dB</p>
<ol>
<li>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>30</mn><mo>=</mo><mn>10</mn><mo>⋅</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>10</mn></msub><mo stretchy="false">(</mo><mfrac><mi>S</mi><mi>N</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">30 = 10 \cdot \log_{10}(\frac{S}{N})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>3</mn><mo>=</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>10</mn></msub><mo stretchy="false">(</mo><mfrac><mi>S</mi><mi>N</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">3 = \log_{10}(\frac{S}{N})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mi>S</mi><mi>N</mi></mfrac><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">\frac{S}{N} = 10^3
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/x9dHMH8w.png" alt="香农公式"></p>
<blockquote>
<ol>
<li>在信道带宽一定的情况下,根据奈氏准则和香农公式,要想提高信息的传输速率就必须采用多元制(更好的调制方法)和努力提高信道中的信噪比</li>
<li>自从香农公式发表后,各种新的信号处理和调制方法就不断出现,其目的都是为了尽可能地接近香农公式给出的传输速率极限</li>
<li>影响信号传输速率的因素：
<ul>
<li><strong>信道带宽</strong></li>
<li><strong>信噪比</strong></li>
<li><strong>码元速率(调制速率)</strong></li>
</ul>
</li>
</ol>
</blockquote>
<h4 id="传输方式">传输方式</h4>
<ol>
<li>并行传输和串行传输</li>
</ol>
<blockquote>
<ul>
<li>并行传输速度是串行传输的n倍,但是<span style="color:#ff6b6b;font-weight:bold">成本高</span>所以<strong>长距离传输使用串行传输</strong></li>
<li>远距离传输使用串行传输,<strong>计算机内部使用并行传输</strong></li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ObkVayAR.png" alt="并行传输和串行传输"></p>
<ol start="2">
<li>异步传输和同步传输</li>
</ol>
<blockquote>
<p>异步传输字节之间异步,但是要添加开始码和停止码作为引导</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/60wDHc1z.png" alt="异步传输和同步传输"  />
<ol start="3">
<li>单工、半双工和全双工通信</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/SnlGXRdp.png" alt="单工、半双工和全双工通信"></p>
<h3 id="2-3-物理层传输介质">2.3 物理层传输介质</h3>
<h4 id="导引型介质">导引型介质</h4>
<ol>
<li><strong>同轴电缆</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/UAaTjOr4.png" alt="同轴电缆"></p>
<ol start="2">
<li><strong>双绞线</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/CGI4fSr6.png" alt="双绞线"></p>
<ol start="3">
<li><strong>光纤</strong></li>
</ol>
<ul>
<li>多模光纤：利用光的<strong>全反射特性</strong>,光源使用<strong>发光二极管</strong>,适合<strong>近距离传输</strong></li>
<li>单模光纤：光纤直径减小到只有光的一个波长,可使光线<strong>直线传播</strong>,光源使用<strong>半导体激光器</strong>,适合<strong>远距离传输</strong>,但是<span style="color:#ff6b6b;font-weight:bold">成本较高</span></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/VE3yDe2c.png" alt="光纤"></p>
<h4 id="非导引型介质">非导引型介质</h4>
<ol>
<li><strong>微波</strong>:有很强的<strong>方向性</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/CkEx8Sjz.png" alt="微波"></p>
<ol start="2">
<li><strong>无线电波</strong>:有较强的穿透能力,可以传输很长距离,<strong>信号向所有方向传播</strong>,广泛用于通信领域(<code>WLAN</code>)</li>
<li>红外线和可见光</li>
</ol>
<h4 id="物理层接口的特性"><strong>物理层接口的特性</strong></h4>
<ol>
<li>机械特性：指名接口所用接线器的<strong>形状</strong>和<strong>尺寸</strong>、<strong>引脚数目</strong>和<strong>排列</strong>、<strong>固定</strong>和<strong>锁定装置</strong>等</li>
<li>电气特性：指名在接口电缆的各条线上的<strong>电压范围</strong>、<strong>传输速率</strong>和<strong>距离限制</strong>等</li>
<li>功能特性：指名某条线上出现某一电平的<strong>电压的意义</strong>,以及<strong>每条线的功能</strong></li>
<li>过程特性：也称规程特性,指名对不同功能的各种可能事件的<strong>出现顺序</strong></li>
</ol>
<hr>
<h3 id="2-5-物理层设备">2.5 物理层设备</h3>
<h4 id="中继器"><strong>中继器</strong></h4>
<ul>
<li>
<p><strong>功能</strong>:对信号进行<strong>再生和还原</strong>,<strong>对衰减的信号进行放大</strong>,保持与原数据相同(<strong>不能检测出信号是否错误</strong>),以增加信号传输的距离,延长网络的长度</p>
</li>
<li>
<p>中继器有<strong>2个端口</strong>,两端是网段而非子网,适用于**完全相同的两类网络(速率、协议等)**的互联</p>
</li>
<li>
<p><code>5-4-3</code>规则：网络标准中都对信号的延迟范围作了具体的规定,因而中继器只能在规定的范围内进行,否则会网络故障,下图中5段链路使用4个中继器连接,最多允许3台主机</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/9JCU8e1K.png" alt="image-20240404212316193"></p>
</li>
</ul>
<h4 id="集线器"><strong>集线器</strong></h4>
<blockquote>
<p><strong>集线器相当于多端口中继器</strong></p>
</blockquote>
<ul>
<li><strong>功能</strong>:对信号<strong>再生放大转发</strong></li>
<li>有<strong>1个输入</strong>端口和<strong>多个输出</strong>端口,<strong>不具备定向转发</strong>信号功能,是一个共享性设备,<strong>不能分割冲突域</strong></li>
<li>有多台设备共享时,带宽均分给各个设备</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Ac4qbmev.png" alt="image-20240404213049374"></p>
<h3 id="2-6-相关习题和资料">2.6 相关习题和资料</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cfixYkxNJ7Ep">第2章 物理层 习题</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/ckmnMjp5UQvK">第2章 物理层(思维导图)</a></li>
</ol>
<hr>
<h2 id="3-数据链路层">3. 数据链路层</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/09/ecaBaiM8.png" alt="image-20240409202339726"></p>
<blockquote>
<p><strong>任务：解决数据包在一个网络或一段链路上传输的问题</strong></p>
<p><strong>功能</strong>：</p>
<ul>
<li>为网络层提供服务:1.无确认无连接服务2.有确认无连接服务3.有确认面向连接服务 (面向连接一定有确认!)</li>
<li>链路管理,即连接的建立、维持、释放(用于面向连接的服务)</li>
<li><strong>封装成帧</strong></li>
<li><strong>流量控制</strong>(限制发送方)</li>
<li><strong>差错控制</strong>(帧错/位错)</li>
</ul>
</blockquote>
<h3 id="3-1-相关概念">3.1 相关概念</h3>
<blockquote>
<ul>
<li>**链路(Link)**网络中两个节点之间的<span style="color:#ff6b6b;font-weight:bold;">物理线路</span>,而中间没有任何其他的交换节点</li>
<li><strong>数据链路(Data Link)<strong>网络中两个节点之间的<span style="color:#ff6b6b;font-weight:bold;">逻辑线路</span>,把实现</strong>控制数据传输协议的硬件和软件</strong>加到链路上就构成数据链路</li>
<li>**网络适配器(俗称网卡)**和其相应的软件驱动程序就实现了这些协议,一般的网络适配器都包含了物理层和数据链路层这两层的功能</li>
<li><strong>帧(Frame)<strong>是</strong>数据链路层的协议数据单元</strong>,封装网络层数据报</li>
</ul>
</blockquote>
<h3 id="3-2-封装成帧和透明传输">3.2 封装成帧和透明传输</h3>
<h4 id="1-封装成帧">1.封装成帧</h4>
<blockquote>
<ol>
<li>
<p><strong>封装成帧</strong>(组帧)就是在一段数据的前后部分<strong>添加首部和尾部</strong>,这样就构成了一个<strong>帧</strong>。</p>
</li>
<li>
<p>首部和尾部包含许多的控制信息,他们的一个重要作用：<strong>帧定界</strong>(确定帧的界限)。</p>
</li>
<li>
<p><strong>帧同步</strong>：接收方应当能从接收到的二进制比特流中<strong>区分出帧的起始和终止</strong></p>
</li>
<li>
<p><strong>组帧</strong>的四种方法：</p>
<ul>
<li>字符计数法</li>
<li><strong>字符(节)填充法</strong></li>
<li><strong>零比特填充法</strong></li>
<li><strong>违规编码法</strong></li>
</ul>
</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xbX4Jkku.png" alt="封装成帧"></p>
<h4 id="span-style-color-ff6b6b-2-透明传输问题-span"><span style = 'color:#ff6b6b'>2.透明传输问题</span></h4>
<blockquote>
<p><strong>透明传输</strong>：<span style="color:#ff6b6b;font-weight:bold;">数据链路层对上层交付的PDU的内容没有任何限制,就好像数据链路层不存在一样</span></p>
<p><strong>透明传输问题</strong>：上层应用交付的数据单元中可能含有<strong>和帧定界符相同的数据</strong>而被接收端<strong>误认为帧定界符</strong>从而导致错误</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/7EkRy4M8.png" alt="透明传输问题"  />
<h4 id="3-组帧">3.组帧</h4>
<blockquote>
<p>如果不解决透明传输问题,则数据链路层就会<strong>对上层交付的PDU的内容有所限制</strong>,即<span style="color:#ff6b6b;font-weight:bold;">PDU中不能包含帧定界符</span>。显然,这样的数据链路层没有什么应用价值</p>
</blockquote>
<ol>
<li>字符计数法</li>
</ol>
<blockquote>
<p>原理：在帧的首部用一个<strong>计数字段</strong>来记录<strong>当前帧的所含的字节数</strong>(包含自身的1个字节),接收方读取到帧的首部中的计数字段就能<strong>确定该帧的长度并定界</strong></p>
<p>问题：如果<span style="color:#ff6b6b;font-weight:bold;">计数字段错误</span>,会导致<span style="color:#ff6b6b;font-weight:bold;">当前帧的定界错误</span>,从而<span style="color:#ff6b6b;font-weight:bold;">导致下一个帧的定界也出错</span>,接受双方将<span style="color:#ff6b6b;font-weight:bold;">失去同步</span>,造成<span style="color:#ff6b6b;font-weight:bold;font-size:20px;">灾难性后果!</span></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/10/T1nEmnkf.png" alt="字符计数法"></p>
<ol start="2">
<li><strong>字符(节)填充法</strong></li>
</ol>
<blockquote>
<p>原理:发送方在发送数据前,如果待发送数据中<strong>含有和帧定界符相同的数据</strong>,在该数据<strong>前加一个转义字符ESC</strong>,如果数据中出现其他特殊字符(ESC字符)处理方式相同; 接收方在接收数据时如果<strong>读取到了ESC字符</strong>,则认为后面紧跟着的<strong>是数据</strong>而<strong>不是特殊字符</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/1iuGNypX.png" alt="字符填充"></p>
<p>对于字符填充,举个不恰当的例子,如果我们要输出的字符串中带有<code>“</code>,就必须使用<code>\</code>进行转义,否则会出现语法错误</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; \&quot; &quot;</span>)<br></code></pre></td></tr></table></figure>
<ol start="3">
<li><strong>零比特填充</strong></li>
</ol>
<blockquote>
<p>发送方：扫描要发送的信息,<span style="color:#ff6b6b;font-weight:bold;">如果有连续的5个1,立即插入1个0</span>,接收端逆操作即可(<code>01111110</code>为帧定界符)</p>
<p>接收方：在接收端收到一个帧时,先找到标志字段确定边界,再用硬件对比特流进行扫描,<strong>发现连续5个1时,就把后面的0删除</strong></p>
<p>总结：<strong>保证了透明传输,在传送的比特流中可以传送任意比特组合,而不会引起对帧边界的判断错误</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Wc2JZvjx.png" alt="零比特填充"></p>
<ol start="4">
<li><strong>违规编码法</strong></li>
</ol>
<blockquote>
<p>以曼彻斯特编码为例,曼彻斯特编码<strong>中间时刻必定跳变</strong>(电平对为[高-低]或[低-高]),所以可以<strong>使用不跳变表示帧的界,使用[高-高]表示帧的开始,使用[低-低]表示帧的结束</strong></p>
<p>违规编码法<strong>不采用任何填充技术</strong>便能实现数据的透明传输,但只适用于采用<strong>冗余编码</strong>的特殊编码环境</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/09/H8LbiLki.png" alt="image-20240409222701713"></p>
<blockquote>
<p><span style="color:#ff6b6b;font-weight:bold;font-size:18px">总结</span>:由于字节计数法中count字段的<strong>脆弱性</strong>(其值若有差错将导致灾难性后果)及字符填充实现上的复杂性和不兼容性(非<code>ASCII</code>字符不太适用),<strong>目前较普遍使用的帧同步法是比特填充法和违规编码法</strong></p>
</blockquote>
<h3 id="3-3-差错控制">3.3 差错控制</h3>
<blockquote>
<p><strong>全局性</strong>：由于线路本身电气特性所产生的<strong>随机噪声</strong>(热噪声),是信道固有的,随机存在的。解决办法：提高信噪比来减少或避免干扰。(对传感器下手)</p>
<p><strong>局部性</strong>：外界特定的短暂原因所造成的<strong>冲击噪声</strong>,是产生差错的主要原因。解决办法：通常利用编码技术来解决。</p>
<p>差错：</p>
<ol>
<li><strong>位错</strong>：比特位出错,1变成0,0变成1</li>
<li><strong>帧错</strong>：丢失、重复、失序</li>
</ol>
</blockquote>
<h4 id="检错编码">检错编码</h4>
<h5 id="奇偶校验码">奇偶校验码</h5>
<blockquote>
<p>奇偶校验码：是奇校验和偶校验的统称,在待发送<strong>数据后加一位校验码(0/1)</strong>,使整个数据中<code>1</code>的个数为奇数个(奇校验)或者偶数个(偶校验)</p>
<p>特点：<strong>只能检查出奇数个比特错误</strong>,但不知道哪些位错了,检错能力为50%</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/10/K7xxxKVB.png" alt="image-20240410090104759"></p>
<h5 id="循环冗余码"><strong>循环冗余码</strong></h5>
<blockquote>
<p>CRC检验广泛使用于数据链路层,<strong>CRC是具有纠错功能的</strong>,只是数据链路层仅仅使用了它的检错功能</p>
<p>收发双方需要约定一个<strong>生成多项式</strong>(最高位和最低位必须为1)</p>
<p>计算出的冗余码(<strong>帧检验序列FCS</strong>)加到数据最后一起传输</p>
<p>FCS生成和CRC检验都是<strong>由硬件完成</strong>,处理非常迅速</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/LqnKVXNU.png" alt="CRC"></p>
<p><strong>发送方</strong></p>
<blockquote>
<p>下图生成多项式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>3</mn></msup><mo>+</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x^3+x^2+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> =&gt;  <span style="color:#ff6b6b;font-weight:bold;">1</span>$ \cdot x^3+<span style="color:#ff6b6b;font-weight:bold;">1</span> \cdot x^2+<span style="color:#ff6b6b;font-weight:bold;">0</span> \cdot x+<span style="color:#ff6b6b;font-weight:bold;">1</span> \cdot x^0$​ =&gt; 除数为<code>1101</code></p>
<p><strong>除法</strong>：此处指<strong>异或</strong>运算</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/yzlERye7.png" alt="CRC"></p>
<p><strong>接收方</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/iEc5Y2da.png" alt=""></p>
<p><span style="color:#ff6b6b;font-weight:bold;font-size:20px">检错码总结</span></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/kspkPie2.png" alt=""></p>
<h4 id="纠错编码">纠错编码</h4>
<h5 id="汉明码">汉明码</h5>
<blockquote>
<p><strong>汉明码</strong>(<code>Hamming Code</code>):又称为海明码,最常见的纠错编码</p>
</blockquote>
<ol>
<li><strong>确定校验位数</strong></li>
</ol>
<blockquote>
<p>n为信息位数,r为校验位数,取使得等式成立的最小的r,<strong>海明不等式</strong>:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mn>2</mn><mi>r</mi></msup><mo>≥</mo><mi>n</mi><mo>+</mo><mi>r</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^r \geq n+r+1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8504em;vertical-align:-0.136em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>海明码的位数</mtext><mo>=</mo><mtext>信息位数</mtext><mo>+</mo><mtext>校验位数</mtext></mrow><annotation encoding="application/x-tex">\text{海明码的位数} = \text{信息位数} + \text{校验位数}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">海明码的位数</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord cjk_fallback">信息位数</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">校验位数</span></span></span></span></span></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/12/au4gBf7Q.png" alt="image-20240412151532196"></p>
<ol start="2">
<li><strong>确定校验码和数据的位置</strong></li>
</ol>
<blockquote>
<p>校验码放在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> 的位置上(第1、2、4、8……个)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/12/vlACsIY3.png" alt="image-20240412151644361"></p>
<ol start="3">
<li><strong>求出校验码的值</strong></li>
</ol>
<blockquote>
<p><strong>分组</strong>:第1个校验码中包括<strong>序号二进制末尾为1</strong>的数,第二个检验码中包括序号二进制为1的数,以此类推,同一个数可以分到多个组中,几个校验码就分几组</p>
<p><strong>求值</strong>:默认采用<strong>偶校验</strong>,保证每个组中1的个数为偶数个(如果1为奇数个,那么校验码为1,否则为0),也可以使用<strong>异或运算</strong>解决,校验码的值就是对应校验组所有数据异或运算的结果</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/12/aYNBsfJM.png" alt="image-20240412180239878"></p>
<ol start="4">
<li><strong>检错并纠正</strong></li>
</ol>
<blockquote>
<p>检错：接收方接收到数据后将对应校验码和校验组所有数据进行异或运算,结果<strong>应全部为0(偶校验)</strong>,出现1说明出现了错误</p>
<p>纠错：各个组的异或结果应为000……,如果不全是0,<strong>假设是101,那么出错的为就是异或结果的二进制位,即5</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/27/QmxDzrEi.png" alt="image-20240412181429972"></p>
<hr>
<h3 id="3-4-流量控制">3.4 流量控制</h3>
<h4 id="可靠传输">可靠传输</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/bl3iFcsr.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/9kptbtUg.png" alt=""></p>
<h4 id="停止-等待协议-SW">停止-等待协议(SW)</h4>
<ol>
<li>基本原理</li>
</ol>
<blockquote>
<p>停止-等待协议(<code>S</code>top-and-<code>W</code>ait)</p>
<ul>
<li>
<p>发送一个数据分组<code>DATA0</code>然后<strong>等待</strong>接收方发来确认信息<code>ACK0</code>后再传输下一个数据分组<code>DATA1</code> (发送、接收窗口大小都为1)</p>
</li>
<li>
<p>如果<strong>超时</strong>未接收到接收方发送的确认信息<code>ACK0</code>或者<strong>接收到否认</strong>信息<code>NAK</code>就重传上一个分组数据分组(发送方发送一个分组后不会立即删除该分组,因为可能需要重传,接收到[^ACK]后才将分组从缓存删除)</p>
</li>
<li>
<p>数据分组和确认信息的<strong>编号</strong>都是用来<strong>区分</strong>和上一个分组或信息是否相同(SW协议编号只需要1个比特)</p>
</li>
</ul>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?t=48.2&p=25"><img alt="bili" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/SW-white?logo=bilibili&labelColor=white&color=%23fb7299"></a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/kDCsZAbL.png" alt="SW"></p>
<ol start="2">
<li><strong>停止等待协议的信道利用率</strong></li>
</ol>
<blockquote>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>信道利用率</mtext><mo>=</mo><mfrac><mtext>数据发送时延</mtext><mrow><mtext>数据发送时延</mtext><mo>+</mo><mtext>2个传播时延</mtext><mo>+</mo><mtext>确认信息发送时延</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{信道利用率}= \frac{\text{数据发送时延}}{\text{数据发送时延}+\text{2个传播时延}+\text{确认信息发送时延}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">信道利用率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">数据发送时延</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">2</span><span class="mord cjk_fallback">个传播时延</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord cjk_fallback">确认信息发送时延</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">数据发送时延</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><strong>确认信息的发送时延一般忽略不计</strong></p>
<p><strong>总结：当往返时间远大于数据帧的发送时延时,<span style="color:#ff6b6b;font-weight:bold;">信道利用率很低</span>,如果出现超时重传,信道利用率更低</strong>(卫星链路)</p>
</blockquote>
<h4 id="回退N帧协议-GBN">回退N帧协议(GBN)</h4>
<blockquote>
<p>回退N帧协议(<code>G</code>o-<code>B</code>ack-<code>N</code>)</p>
<p>发送方可以在<strong>未收到确认帧</strong>的情况下将<strong>发送窗口内的多个数据帧</strong>全部发送出去</p>
<p>回退N帧的含义：发送方发送了N个帧,如果这<strong>N个帧的前一个帧</strong>在超时的时候仍未接收到确认分组,则认为该帧<strong>出错或丢失</strong>,此时,发送方需要<strong>重传该出错帧及随后的N个帧</strong>,因为该协议中<span style="color:#ff6b6b;font-weight:bold;">接收方只能顺序接受帧</span></p>
<p>GBN采用<strong>累计确认</strong>,假设发送方发送了10个数据(0-9),随后收到接收方发来的确认分组编号为6,这表示0-6号数据全部接收了,而不是仅仅对6号数据的确认</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?t=81.1&p=26"><img alt="bili" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/GBN-white?logo=bilibili&labelColor=white&color=%23fb7299"></a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/hB250oge.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Ub9UUjBl.png" alt=""></p>
<blockquote>
<p><span style="color:#ff6b6b;font-weight:bold;">GBN重点</span>：</p>
<ul>
<li>
<p><strong>发送窗口</strong>：如果采用了n个比特进行编号,那么发送窗口<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>&lt;</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1&lt;W_T&lt;2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>​,太大会造成接收方无法分辨新旧数据帧</p>
</li>
<li>
<p><strong>接收窗口</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>​,可保证按序接收数据帧(<strong>只能按序接收</strong>)</p>
</li>
<li>
<p>接收方<strong>只按顺序接收帧</strong>,不按序无情丢弃</p>
</li>
<li>
<p><strong>累积确认</strong>(偶尔梢带确认),确认序列号最大的、按序到达的帧</p>
</li>
</ul>
</blockquote>
<h4 id="选择重传协议-SR">选择重传协议(SR)</h4>
<blockquote>
<p>选择重传协议(<code>S</code>elective <code>R</code>epeat):在GBN协议中,只要一个帧出错,该帧及其随后的所有帧都需要重传,这是对通信资源的极大浪费,为进一步提高信道利用率,可以<strong>只重传出错或计时器超时的帧</strong>,此时必须<strong>加大接收窗口以便收下失序但正确到达的帧</strong></p>
<p><span style="color:#ff6b6b;font-weight:bold;">重点</span>：</p>
<ul>
<li>SR接收方将确认一个正确接收的帧而不管其是否按序到达(失序的帧将被缓存)</li>
<li><strong>不能使用累计确认,对每个帧都进行确认</strong></li>
<li>接收方有缓存</li>
<li><strong>发送窗口<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>&lt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">1&lt;W_T&lt;2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>,接收窗口<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>R</mi></msub><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">1&lt;W_R&lt;W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></strong></li>
</ul>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?t=9.1&p=27"><img alt="bili" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/SR-white?logo=bilibili&labelColor=white&color=%23fb7299"></a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/lTKxaOpK.png" alt=""></p>
<hr>
<blockquote>
<p>总结：ARQ(自动重传请求)协议包括三种：停止-等待(SW)协议、后退N帧(GBN)协议、选择重传(SR)协议。<strong>GBN、SR为连续ARQ协议</strong>,可以连续发送多个帧。</p>
<p><strong>连续ARQ的信道利用率</strong>,假设发送窗口为<code>n</code>,即发送方可以连续发送的帧的数量</p>
<p>信道利用率U为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>=</mo><mfrac><mrow><mi>n</mi><msub><mi>T</mi><mi>D</mi></msub></mrow><mrow><msub><mi>T</mi><mi>D</mi></msub><mo>+</mo><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>A</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U = \frac{nT_D}{T_D+RTT+T_A}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>信道实际数据传输速率 = 信道利用率 × 信道带宽</p>
</blockquote>
<hr>
<h3 id="3-5-介质访问控制">3.5 介质访问控制</h3>
<h4 id="1-通信方式">1.通信方式</h4>
<p>数据链路层的通信方式</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/13/qREqa6zW.png" alt="image-20240413114302558"></p>
<h4 id="2-介质访问控制">2.介质访问控制</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/YJFtawLv.png" alt="image-20240420110848013"></p>
<h4 id="3-信道划分">3.信道划分</h4>
<blockquote>
<p>复用：当网络中传输媒体的传输容量大于多条单一信道传输的总通信量时,可利用复用技术<strong>在一条物理线路上建立多条通信信道来共享传输媒体的带宽</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ClYKHJq5.png" alt="信道复用" style="zoom:80%;" />
<h5 id="1-频分复用">1. 频分复用</h5>
<blockquote>
<p><strong>频分复用</strong>(Frequency-division multiplexing,<code>FDM</code>):将多路基带信号调制到不同频率载波上,再进行叠加形成一个复合信号,接收端的分用器通过滤波将各路信号滤出,将合成的复合信号恢复成原始的多路信号,<strong>信道利用率高</strong></p>
<p>实际应用中,为了防止信道之间相互干扰,相邻信道间还要加入“隔离频带”</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/13/9tcFG4HL.png" alt="image-20240413115640153"></p>
<h5 id="2-时分复用">2. 时分复用</h5>
<blockquote>
<p>时分复用(Time Division Multiplexing,<code>TDM</code>)：将传输线路的带宽资源<strong>按时间轮流分配给不同的用户</strong>,用户只能在分配的时间里使用线路传输数据(类似于时间片轮转),<strong>同一时刻只有一个用户在使用</strong>,相当于多个用户并发使用</p>
<p>存在的<strong>不足</strong>：使用时分复用系统传送计算机数据时,由于计算机数据的突发性质,用户对分配到的<strong>子信道的利用率一般不高</strong>(如果B暂时不使用信道,其他用户正常使用,时分复用还是会给B分配时间,而且这段时间内其他用户也不能使用)</p>
<p><strong>图中第2个周期第2段时间中<span style="color:#e6e600;font-weight:bold;">黄色线</span>并没有使用信道,但还是会分配信道给他,而且该时间段内其他用户不能使用</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/13/GqvfdyNg.png" alt="image-20240413124732334"></p>
<blockquote>
<p><strong>统计时分复用</strong>(statistical time division multiplexing,<code>STDM</code>):动态地按需分配共用信道的时隙,<strong>只将需要传送数据的终端接入共用信道</strong>,可以提高信道的利用率</p>
<p>帧与帧之间留有<strong>空隙</strong>用来存储用户的地址信息,因为<strong>不是固定的分配给某个用户</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/13/3tBMGXBQ.png" alt="image-20240413131118032"></p>
<h5 id="3-波分复用">3. 波分复用</h5>
<blockquote>
<p>波分复用(Wavelength Division Multiplexing,<code>WDM</code>)就是<strong>光的频分复用</strong>(专指<strong>光纤</strong>),使用一根光纤来同时传输多个光载波信号,现在已能做到在一根光纤上复用几十路或更多路数的光载波信号</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/wmz4xQ8u.png" alt="波分复用"></p>
<h5 id="4-码分复用">4. 码分复用</h5>
<blockquote>
<ul>
<li><strong>码分多路复用</strong>(Code Division Multiplexing,<code>CDM</code>)：又叫<strong>码分多址</strong><code>CDMA</code>(Code Division Multiple Access),采用不同的编码(地址码)来区分各路原始信号的一种复用方式</li>
<li>它<strong>既共享信道的频率,又共享时间</strong>,是真正意义的动态复用技术</li>
<li>最初用于军事,因为这种系统发送的信号<strong>有很强的抗干扰能力</strong>,其频谱类似于白噪声,不易被敌人发现</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/jr9xumaq.png" alt="码分复用"></p>
<blockquote>
<ol>
<li>
<p><strong>码片序列转为码片向量</strong>(0-&gt;-1,1-&gt;+1),例：码片序列为(1101) -&gt; 码片向量为(+1,+1,-1,+1)</p>
</li>
<li>
<p><strong>如果有多个站同时发送信号,将它们的码片向量线性相加</strong></p>
</li>
<li>
<p>接收方收到总信号,如果想知道A站发送的信息就可以<strong>用A站的码片向量与总信号规格化内积</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>规格化内积</mtext><mo>=</mo><mfrac><mtext>向量相乘</mtext><mtext>向量个数</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{规格化内积} = \frac{\text{向量相乘}}{\text{向量个数}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">规格化内积</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">向量个数</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">向量相乘</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<ul>
<li>
<p><strong>内积为1  -&gt; A站发送信号1</strong> 发送的是自己的<strong>码片序列</strong></p>
</li>
<li>
<p><strong>内积为0  -&gt; A站未发送信号</strong> 未发送数据</p>
</li>
<li>
<p><strong>内积为-1 -&gt; A站发送信号0</strong> 发送的是自己的<strong>码片序列的二进制反码</strong></p>
</li>
</ul>
</li>
</ol>
</blockquote>
<hr>
<h4 id="4-随机访问">4.随机访问</h4>
<h5 id="概述">概述</h5>
<blockquote>
<p>在随机访问协议中,所有用户可以根据自己意愿发送信息,那么在总线型网络中,当有多个用户同时发送数据时,就会产生<strong>帧冲突</strong>(碰撞),导致所有冲突的用户的发送都以失败告终,<strong>随机访问介质访问控制协议</strong>(争用性协议)的核心思想是：<strong>胜利者通过争用获得信道</strong>,进而获得发送权</p>
</blockquote>
<h5 id="1-ALOHA-协议">1. ALOHA 协议</h5>
<blockquote>
<p><strong>纯 [^ALOHA] 协议</strong>：<span style="color:#ff6b6b;font-weight:bold;">想发就发</span>,发生冲突等待<strong>随机时间</strong>后重传,容易出现冲突,<strong>效率较低</strong></p>
<p><strong>时隙 ALOHA 协议</strong>：将时间分成相同大小的<strong>时间片</strong>,只有在<span style="color:#ff6b6b;font-weight:bold;">时间片开始的时候</span>才能发送,<strong>发送一帧的时间不能超过一个时隙</strong>,一定程度上限制了发送方发送数据的随意性,降低了冲突的概率(依然很大),产生冲突后等待<strong>随机个时隙</strong>时间后重传</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/17/RtFprUL8.png" alt="image-20240417220719723"></p>
<h5 id="2-CSMA-协议">2. CSMA 协议</h5>
<blockquote>
<p><strong>CSMA(Carrier Sense Multiple Access)载波监听 多路访问</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/gCZW2TEK.png" alt="image-20240420091922904"></p>
<p><span style="color:#ff6b6b;font-weight:bold;">总结</span></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">1-坚持CSMA</th>
<th style="text-align:center">非坚持CSMA</th>
<th style="text-align:center">P-坚持CSMA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">空闲</td>
<td style="text-align:center">立即发送</td>
<td style="text-align:center">立即发送</td>
<td style="text-align:center"><strong>p概率发送,1-p概率推迟到下一个时隙</strong></td>
</tr>
<tr>
<td style="text-align:center">忙</td>
<td style="text-align:center">持续监听</td>
<td style="text-align:center"><span style="color:#ff6b6b;font-weight:bold;">放弃监听</span>,等待随机时间继续监听</td>
<td style="text-align:center"><strong>持续监听(等到下一个时隙再监听)</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>p-坚持CSMA只适用于<strong>时分信道</strong>,检测到<strong>信道空闲时以概率p发送数据</strong>,以概率1-p<strong>推迟到下一个时隙继续监听</strong></p>
<p>1-坚持CSMA监听到信道忙时会<strong>持续监听信道,出现冲突时才会等待随机时间后再监听</strong></p>
</blockquote>
<h5 id="3-CSMA-CD-协议">3. <strong>CSMA/CD 协议</strong></h5>
<blockquote>
<p><strong>CSMA/CD(Carrier Sense Multiple Access/collision detection)载波监听 多路访问/碰撞检测</strong></p>
<p>在CSMA中<span style="color:#ff6b6b;font-weight:bold;">尽管发生冲突,数据还是会继续传输完毕</span>,这是不必要的(发生冲突后传输的数据已经无效)</p>
<p>CSMA/CD 的工作流程可以概括为“先听后发,<strong>边听边发,冲突停发</strong>,随机重发”,<strong>在发送数据时一边监听信道,如果发生冲突立即停止发送</strong>(主要区别)</p>
</blockquote>
<h6 id="工作流程">工作流程</h6>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ED5B2K8l.png" alt=""></p>
<h6 id="争用期"><strong>争用期</strong></h6>
<blockquote>
<p><strong>2τ</strong> ,即<strong>端到端传播时延的2倍</strong>,10BaseT以太网中规定争用期为51.2μs</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/pcp1O29f.png" alt=""></p>
<h6 id="最小帧长"><strong>最小帧长</strong></h6>
<blockquote>
<p><strong>最小帧长 = 争用期 x 数据传输速率</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>l</mi><mo>=</mo><mn>2</mn><mi>τ</mi><mo>∗</mo><mtext>数据传输速率</mtext><mo>=</mo><mn>2</mn><mo>∗</mo><mfrac><mtext>距离</mtext><mtext>传播速率</mtext></mfrac><mo>∗</mo><mtext>数据传输速率</mtext></mrow><annotation encoding="application/x-tex">l = 2τ * \text{数据传输速率} = 2*\frac{\text{距离}}{\text{传播速率}}*\text{数据传输速率}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">数据传输速率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">传播速率</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">距离</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">数据传输速率</span></span></span></span></span></span></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/TctW8FkX.png" alt=""></p>
<h6 id="二进制指数退避算法"><strong>二进制指数退避算法</strong></h6>
<blockquote>
<p>发生碰撞后进行重传,随着重传次数增加,退避时间也会逐渐增加,减小了碰撞的概率</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/vzrGh2uB.png" alt="image-20231103163318636"></p>
<h5 id="4-CSMA-CA">4. <strong>CSMA/CA</strong></h5>
<blockquote>
<p><strong>CSMA/CA(Carrier Sense Multiple Access with Collision Avoid)载波监听、多路访问/碰撞避免</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/CT1N67Ir.png" alt=""></p>
<blockquote>
<p>碰撞避免实现中涉及的的三种机制：</p>
<p>1.预约信道：通知其它站点，自己需要的时间长度</p>
<p>2.ACK帧：接收站点发回确认；发送端超时未接收ACK则重发</p>
<p>3.<code>RTS</code>(Request To Send) 帧与<code>CTS</code>(Clear To Send)帧(可选)：发送端发RTS，接收端响应CTS，发送端收到CTS则认为可以发送数据，<strong>CTS帧的目的：1.给源站明确的发送许可 2.指示其他站在预约期间不要发送</strong></p>
<p><strong>帧间间隔</strong>(InterFrame Space IFS):所有站发送一帧后必须等待一段很短的时间(帧间间隔)才能继续监听并发送数据，IFS的类型：</p>
<ul>
<li><code>SIFS</code>(短) 最短的IFS，用于分隔一次对话的各帧(ACK、CTS等)</li>
<li><code>PIFS</code>(点协调) 中等长度的IFS，在PCF操作中使用</li>
<li><code>DIFS</code>(分布式协调) 最长的IFS，用于异步帧竞争访问的时延</li>
</ul>
</blockquote>
<h4 id="5-轮询访问">5.轮询访问</h4>
<blockquote>
<p>用户不能随机发送数据，而是通过一个集中控制的监控站，以循环方式轮询访问每个结点，再决定信道的分配，典型的轮询访问控制协议是令牌传递协议</p>
</blockquote>
<h5 id="令牌传递协议">令牌传递协议</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/meVU77Xe.png" alt="image-20240420110009790"></p>
<blockquote>
<p>注意点：</p>
<ul>
<li>网络空闲时，只有<strong>令牌帧在循环传递</strong>(游荡)</li>
<li>源站点传输完数据后，<strong>重新生成一个令牌</strong>并传递给下一个站点</li>
<li>令牌传递协议适合<strong>负载较重、通信量较大</strong>的广播信道</li>
<li><span style="color:#ff6b6b;font-weight:bold;">单点故障会导致整个网络无法工作</span>(逻辑上环形)</li>
</ul>
</blockquote>
<h3 id="3-6-局域网">3.6 局域网</h3>
<h4 id="概述-2">概述</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/ZLZC4JJA.png" alt="image-20240420113134042"></p>
<h4 id="拓扑结构">拓扑结构</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/reb0noqv.png" alt=""></p>
<h4 id="分类-2">分类</h4>
<blockquote>
<ol>
<li>
<p>以太网以太网是应用最为广泛的局域网，包括标准以太网（10Mbps）、快速以太网（100Mbps）千兆以太网（1000Mbps）和10G以太网，它们都符合IEEE802.3系列标准规范。<strong>逻辑拓扑总线型，物理拓扑是星型</strong>或拓展星型,使用CSMA/CD</p>
</li>
<li>
<p>令牌环网<strong>物理上采用了星形拓扑结构，逻辑上是环形拓扑结构</strong>。已是“明日黄花”</p>
</li>
<li>
<p>FDDl网 （Fiber Distriouted Data Interiace)<strong>物理上采用了双环拓扑结构，逻辑上是环形拓扑结构</strong></p>
</li>
<li>
<p>ATM网 (Asynchronous Transier Mode)较新型的单元交换技术，使用53字节固定长度的单元进行交换</p>
</li>
<li>
<p>无线局城网（WIrelessLocalAreaNetworkWLAN）采用IEEE802.11标准</p>
</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/27/KUOQpahI.png" alt="局域网的分类"></p>
<blockquote>
<p>以太网支持全双工和半双工通信，<strong>全双工不使用CSMA/CD协议(无冲突)</strong>，半双工通信方式可能发生冲突，使用CSMA/CD协议 [<strong>10吉比特以太网只能全双工</strong>]</p>
</blockquote>
<p>100BaseT以太网</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/51qnZW5A.png" alt="image-20240420125317777"></p>
<p>MAC子层</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/gJBMwlkd.png" alt="image-20240420141212069"></p>
<h4 id="MAC地址">MAC地址</h4>
<ol>
<li><strong>MAC地址</strong>是对网络上<strong>各接口的唯一标识</strong>,而不是对网络上各设备的唯一标识(<strong>路由器有多个接口,所以有多个MAC地址</strong>)</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/68avB7T3.png" alt=""></p>
<ol start="2">
<li>MAC地址格式</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/BNjnFpPt.png" alt=""></p>
<ol start="3">
<li>MAC帧有三种：单播、广播、多播</li>
</ol>
<blockquote>
<p>单播帧：一对一</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/D6d0SVGo.png" alt=""></p>
<blockquote>
<p>广播帧：一对全体</p>
<p>广播地址：<strong>FF-FF-FF-FF-FF-FF</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/TfVVC54V.png" alt=""></p>
<blockquote>
<p>多播帧：一对多</p>
<p>多播地址：<strong>第二个数是奇数</strong>代表是多播地址</p>
</blockquote>
<h4 id="VLAN">VLAN</h4>
<blockquote>
<p>虚拟局域网(<code>Virtual Local Area Network</code>,VLAN)是一种将局域网内的站点划分成与物理位置无关的逻辑组的技术,一个逻辑组就是一个VLAN,VLAN中的各站点具有某些共同的应用需求</p>
<p><strong>广播风暴</strong>：<span style="color:#ff6b6b;font-weight:bold;">广播风暴会浪费网络资源和各主机的CPU资源</span></p>
<ul>
<li>可以<strong>使用路由器切割广播域</strong>,防止广播风暴,但是成本较高</li>
<li>使用<strong>vlan技术划分广播域</strong></li>
</ul>
<p>注意点：</p>
<ul>
<li>
<p><code>A</code>发送广播帧,<code>Access</code>接口接收并<strong>打标签</strong>,<code>PVID</code>和<code>VID</code>相同的Access端口可以接收该帧,进行去标签转发</p>
</li>
<li>
<p><code>Trunk</code>端口的<code>PVID</code>如果等于该帧的<code>VID</code>,也会先去标签转发,然后再打标签,否则直接转发</p>
</li>
<li>
<p><strong>Trunk端口是连接两个交换机的</strong></p>
</li>
<li>
<p>插入VLAN标签的帧称为802.1Q帧，首部添加4字节，最大帧长增加为1522字节</p>
</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/XkiEONEm.png" alt=""></p>
<hr>
<h3 id="3-7-广域网">3.7 广域网</h3>
<h4 id="概述-3">概述</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/V6rN5owV.png" alt="image-20240420131312782"></p>
<h4 id="PPP-协议"><strong>PPP 协议</strong></h4>
<ol>
<li>概述</li>
</ol>
<blockquote>
<p>点对点协议(<code>Point-to-Point Protocol</code>,PPP)是目前使用最广泛的<strong>点对点数据链路层协议</strong>,</p>
<p>PPP协议的3个组成部分：</p>
<ol>
<li>一个将IP数据报封装到串行链路的方法</li>
<li>网络控制协议NCP:PPP可支持多种网络层协议，每个不同的网络层协议都要一个相应的NCP来配置，为网络层协议建立和配置逻辑连接</li>
<li>链路控制协议LCP：建立并维护数据链路连接(身份验证)</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/oEvbpogl.png" alt="PPP"></p>
<ol start="2">
<li>PPP的帧格式</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/rpgHWbjQ.png" alt=""></p>
<ol start="3">
<li>PPP的透明传输</li>
</ol>
<blockquote>
<p>异步传输：字符填充</p>
<p>同步传输：0比特填充</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/1bplHCdz.png" alt=""></p>
<ol start="3">
<li>PPP的状态图</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/gvFkscEH.png" alt=""></p>
<blockquote>
<p>PPP协议特点：</p>
<ol>
<li>不使用序号和确认机制，只保证无差错接收，因此是<span style="color:#ff6b6b;font-weight:bold;">不可靠服务</span></li>
<li>PPP<span style="color:#ff6b6b;font-weight:bold;">只支持全双工点对点链路，不支持多点线路</span></li>
<li>PPP的<strong>两端可以运行不同的网络层协议</strong>，但仍可使用同一个PPP进行通信</li>
<li>PPP是<strong>面向字节</strong>的，所有PPP帧的长度都是整数个字节</li>
</ol>
</blockquote>
<h3 id="3-8-链路层设备">3.8 链路层设备</h3>
<h4 id="网桥">网桥</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/55lQDblM.png" alt="image-20240420155806561"></p>
<blockquote>
<p>网桥可以<strong>连接两个不同的网络而不增大碰撞域</strong></p>
</blockquote>
<h4 id="交换机">交换机</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/IHx13ZvA.png" alt="image-20240420160645782"></p>
<h4 id="集线器vs交换机">集线器vs交换机</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/SAdkZQI5.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/cH6i5koT.png" alt=""></p>
<p><span style="color:#ff6b6b;font-weight:bold;">总结</span></p>
<blockquote>
<p>使用集线器的共享式以太网(10Mb/s)，如果有N个用户，每个用户的平均带宽为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>10</mn><mi>N</mi></mfrac><mi>M</mi><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{10}{N}Mb/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">b</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span>,如果使用以太网交换机（全双工）连接，每个用户平均带宽为10Mb/s，所以有N个接口的交换机总容量为10N Mb/s(半双工则减小一半),这是交换机的最大优点</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/20/2SaXyedY.png" alt="image-20240420160932053"></p>
<h3 id="3-9-STP">3.9 STP</h3>
<blockquote>
<p>透明网桥的生成树协议：</p>
<p>为了提高以太网的可靠性,有时需要在两个以太网之间使用多个透明网桥来提供冗余链路，为了避免广播帧在环路中永久兜圈,透明网桥使用生成树协议<code>Spanning Tree Protocol</code>,可以在增加冗余链路提高网络可靠性的同时,又避免环路带来的问题</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/F5cxDeoo.png" alt=""></p>
<h3 id="4-思维导图和习题">4. 思维导图和习题</h3>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cgV0rfS0qZEA">第3章 数据链路层(思维导图)-1 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/ciOEeLV6ffuJ">第3章 数据链路层(思维导图)-2 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cnRBS8NFgTll">第3章 数据链路层(思维导图)-3 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cl60fYfO1qZe">第3章 数据链路层 习题(第1部分)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cenjHDfYLe95">第3章 数据链路层 习题(第2部分)</a></p>
<hr>
<h2 id="4-网络层">4. 网络层</h2>
<h3 id="4-1-概述">4.1 概述</h3>
<blockquote>
<p>网络层的主要任务：将分组从源主机经过多个网络和多段链路传输到目的主机,可以将该任务划分为分组转发和路由选择两种重要的功能</p>
</blockquote>
<h3 id="4-2-网络层提供的两种服务">4.2 网络层提供的两种服务</h3>
<h4 id="1-虚电路服务">1.虚电路服务</h4>
<blockquote>
<p>虚电路服务特点：</p>
<ol>
<li>
<p>虚电路提供的是<span style="color:#ff6b6b;font-weight:bold;">面向连接</span>的，<span style="color:#ff6b6b;font-weight:bold;">可靠的</span>服务</p>
</li>
<li>
<p><strong>虚</strong>表示这是一条<strong>逻辑上的连接，不是专用的</strong>,分组沿着这条逻辑连接按照<strong>存储转发方式传送</strong>,而不是真正建立了一条物理连接</p>
</li>
<li>
<p>建立连接和拆除都需要时间开销，<strong>不适用于突发式通信，但对长时间、频繁的数据交换效率较高</strong></p>
</li>
<li>
<p><span style="color:#ff6b6b;font-weight:bold;">致命弱点：虚电路上如果某个结点或链路出现故障(相当于电线被剪断了)，所有经过这个结点或链路的虚电路都会遭到破坏(需要重新建立连接)</span></p>
</li>
<li>
<p>分组的首部仅在连接建立阶段使用完整的目的主机地址,之后每个分组的首部只需要携带一条虚电路编号即可</p>
</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/yW2dRsAm.png" alt=""></p>
<h4 id="2-数据报服务">2.数据报服务</h4>
<blockquote>
<p>数据报服务特点：</p>
<ol>
<li>
<p>TCP/IP使用的就是这种<strong>简单灵活</strong>的、<span style="color:#ff6b6b;font-weight:bold;">无连接</span>的、<span style="color:#ff6b6b;font-weight:bold;">不可靠</span>的数据报服务</p>
</li>
<li>
<p>核心思想：<strong>可靠通信应由用户主机来保证</strong></p>
</li>
<li>
<p>由于网络自身不提供端到端的可靠传输服务,这就使得网络中的<strong>路由器可以做得比较简单,大大降低了网络造价</strong></p>
</li>
<li>
<p>这种设计思想的运行方式灵活、能够适应多种应用。因特网能够发展到今日的规模,充分证明了当初采取这种设计思想的正确性</p>
</li>
</ol>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/LojBc6xi.png" alt=""></p>
<h3 id="4-3-SDN">4.3 SDN</h3>
<h4 id="结构">结构</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/27/Su0B0dOx.png" alt="image-20240427114506132"></p>
<h4 id="区别">区别</h4>
<blockquote>
<p>网络层可抽象划分为<strong>数据平面(转发)<strong>和</strong>控制平面(路由选择)</strong></p>
<p>传统：路由选择算法运行在每台路由器中，并且在<strong>每台路由器中都包含转发和路由选择两种功能</strong></p>
<p>(Software Defined Network，SDN)：控制平面从路由器物理上分离，<strong>路由器仅实现转发，远程控制器计算和分发转发表以供每台路由器所使用</strong></p>
</blockquote>
<h4 id="路由选择处理器">路由选择处理器</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/27/qnHfAOU6.png" alt="image-20240427114357548" style="zoom:50%;" />
<h3 id="4-4-IPv4">4.4 IPv4</h3>
<h4 id="概述-4">概述</h4>
<blockquote>
<p>网际协议(<code>Internet Protocol</code>,<code>IP</code>)是<code>TCP/IP</code>体系结构网际层中的<strong>核心协议</strong></p>
<p><code>IPv4</code>地址就是给因特网(Internet)上的每一台主机(或路由器)的每一个接口分配一个在全世界范围内是唯一的32比特的标识符</p>
</blockquote>
<h4 id="首部格式">首部格式</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/KOyDkDzX.png" alt=""></p>
<p><span style="color:#ff6b6b;font-weight:bold;">各个字段及描述</span></p>
<table>
<thead>
<tr>
<th style="text-align:center">字段</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">版本</td>
<td style="text-align:left">长度为4个比特,用来表示IP协议的版本,<strong>通信双方使用的IP协议的版本必须一致</strong>,目前广泛使用的IP协议的版本号为4(即IPv4)</td>
</tr>
<tr>
<td style="text-align:center"><strong>首部长度</strong></td>
<td style="text-align:left">长度为4个比特,该字段的取值以<span style="color:#ff6b6b;font-weight:bold;">4B为单位</span>,用来表示IPV4数据报的首部长度(<strong>20+(0~40)</strong>)<br/>最小取值为二进制的0101,即十进制的5,再乘以4字节单位,表示IPv4数据报首部只有20字节固定部分<br />最大取值为二进制的1111,即十进制的15,再乘以4字节单位,表示IPV4数据报首部包含20字节固定部分和最大40字节可变部分</td>
</tr>
<tr>
<td style="text-align:center"><strong>总长度</strong></td>
<td style="text-align:left">长度为16个比特,该字段的取值以<span style="color:#ff6b6b;font-weight:bold;">字节为单位</span>,用来表示IPv4数据报的长度(首部长度+数据载荷长度)<br />最大取值为二进制的16个比特1,即十进制的65535(很少传输这么长的IPv4数据报)</td>
</tr>
<tr>
<td style="text-align:center"><strong>标识</strong></td>
<td style="text-align:left">长度为16个比特,属于<strong>同一个IPv4数据报的各分片数据报应该具有相同的标识</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>标志</strong></td>
<td style="text-align:left">最低位(<code>More Fragment,MF</code>)<br/>    MF=1表示本分片后面还有分片<br/>    MF=0表示本分片后面没有分片<br/>中间位(<code>Don't Fragment,DF</code>)<br/>    DF=1表示不允许分片<br/>    DF=0表示允许分片<br/>最高位为保留位,必须设置为0</td>
</tr>
<tr>
<td style="text-align:center"><strong>片偏移</strong></td>
<td style="text-align:left">长度为16个比特,该字段的取值,以<span style="color:#ff6b6b;font-weight:bold;">8B为单位</span>,用来指出<strong>分片IPv4数据报的数据载荷偏移其在原IPv4数据报的位置有多远</strong>,只能为整数,否则必须调整前一个分片长度</td>
</tr>
<tr>
<td style="text-align:center"><strong>生存时间</strong></td>
<td style="text-align:left">长度为8个比特,最大取值为二进制的11111111,即十进制的255。该字段的取值最初以秒为单位。因此,IPv4数据报的最大生存时间最初为255秒。路由器转发IPv4数据报时,将其首部中该字段的值减去该数据报在路由器上所耗费的时间,若结果不为0就转发,否则就丢弃<br />生存时间字段后来改为<span style="color:#ff6b6b;font-weight:bold;">以“跳数”为单位</span>,路由器收到待转发的IPv4数据报时,将其首部中的该字段的值减1,若结果不为0就转发,否则就丢弃</td>
</tr>
<tr>
<td style="text-align:center"><strong>协议</strong></td>
<td style="text-align:left">长度为8个比特,用来指明IPv4数据报的数据载荷是何种协议数据单元PDU<br /><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xAa9ANsy.png" alt=""></td>
</tr>
<tr>
<td style="text-align:center"><strong>首部检验和</strong></td>
<td style="text-align:left">长度为16个比特,用于<strong>检测IPv4数据报在传输过程中其首部是否出现了差错</strong><br />IPv4数据报每经过一个路由器,其首部中的某些字段的值(例如生存时间TTL、标志以及片偏移等)都可能发生变化,因此路由器都要重新计算一下首部检验和</td>
</tr>
<tr>
<td style="text-align:center"><strong>源IP地址和目的IP地址</strong></td>
<td style="text-align:left">长度都为32个比特,用来填写发送(接收)IPv4数据报的源(目的)主机的IPv4地址</td>
</tr>
</tbody>
</table>
<h4 id="MTU">MTU</h4>
<blockquote>
<p><code>MTU</code>：最大传送单元,超过最大传送单元的长度的IP数据报必须分片</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/L8hoyynm.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/al00y50P.png" alt=""></p>
<h3 id="4-5-IP编址方式">4.5 IP编址方式</h3>
<h4 id="1-分类编址的IP">1.分类编址的IP</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/qnNZ6ucM.png" alt=""></p>
<h4 id="2-划分子网的IP">2.划分子网的IP</h4>
<blockquote>
<p><strong>分类编址方法不够灵活且容易造成大量地址浪费,划分子网编址方法对其进行改进(“打补丁”)</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/q2ONHMZl.png" style="zoom:80%;" />
<blockquote>
<p><strong>划分子网案例</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/kwonYEUW.png" style="zoom:67%;" />
<h4 id="3-CIDR">3.CIDR</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/IFbL2L2v.png" style="zoom:67%;" />
<blockquote>
<p><strong>无分类</strong>域间路由选择(<code>C</code>lassless <code>I</code>nter-<code>D</code>omain <code>R</code>outing,<code>CIDR</code> )</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/2tRrZdhS.png" style="zoom:67%;" />
<blockquote>
<p><strong>练习</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/2qpJoDAK.png" alt=""></p>
<h4 id="4-路由聚合">4.路由聚合</h4>
<blockquote>
<p><strong>找出共同前缀,其余位取0</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/A51cUVpL.png" style="zoom:67%;" />
<h3 id="4-6-IP数据报的发送和转发过程">4.6 IP数据报的发送和转发过程</h3>
<blockquote>
<p><strong>IP数据报的发送和转发过程</strong></p>
<ul>
<li>
<p><strong>主机发送IP数据报</strong></p>
<ul>
<li>判断目的主机是否与自己在同一个网络：
<ul>
<li>若在同一个网络,则属于直接交付,直接发送给目的主机</li>
<li>若不在同一个网络,则属于间接交付,传输给主机所在网络的默认网关(路由器),由默认网关帮忙转发)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>路由器转发IP数据报</strong></p>
<ul>
<li>检查IP数据报首部是否出错：
<ul>
<li>若出错,则直接丢弃该IP数据报并通告源主机</li>
<li>若没有出错,则进行转发</li>
</ul>
</li>
<li>根据IP数据报的目的地址在路由表中查找匹配的条目：
<ul>
<li>若找到匹配的条目,则转发给条目中指示的下一跳；</li>
<li>若找不到,则丢弃该IP数据报并通告源主机；</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Bn4bmj1L.png" alt=""></p>
<blockquote>
<p>路由器不转发广播IP数据报,即<strong>路由器隔离广播域</strong>,如果因特网中数量巨大的路由器收到广播IP数据报后都进行转发,则会造成巨大的广播风暴,严重浪费因特网资源</p>
<ul>
<li>中继器和集线器工作在物理层,<strong>既不隔离冲突域也不隔离广播域</strong></li>
<li>网桥和交换机(多端口网桥)工作在数据链路层,<strong>可以隔离冲突域,不能隔离广播域</strong></li>
<li>路由器工作在网络层,<strong>既隔离冲突域,也隔离广播域</strong></li>
</ul>
</blockquote>
<h3 id="4-7-ARP">4.7 ARP</h3>
<blockquote>
<p>ARP（Address Resolution Protocol），是<strong>根据IP地址获取MAC地址</strong>的一个TCP/IP协议</p>
<p>主机中保存了一个高速缓存表，<mark>记录了IP和MAC的对应关系</mark></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gitee.com/clibin/image-bed/raw/master/image-20231109221234731.png" style="zoom: 67%;" />
<blockquote>
<p>ARP协议动态获取MAC地址</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://gitee.com/clibin/image-bed/raw/master/image-20231109221003126.png" alt=""></p>
<blockquote>
<p><strong>总结：<code>ARP</code>协议只能逐链路（相邻）使用，不能跨网络使用</strong>**</p>
</blockquote>
<h3 id="4-8-静态路由配置">4.8 静态路由配置</h3>
<h4 id="1-静态路由的配置">1. 静态路由的配置</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/CtaIyZQk.png" style="zoom:67%;" />
<h4 id="2-默认路由">2. 默认路由</h4>
<ol>
<li>
<p>默认路由：默认路由条目中的目的网络<code>0.0.0.0/0</code>,其中<code>0.0.0.0</code>表示任意网络,而网络前缀“/0”(相应的地址掩码为<code>0.0.0.0</code>)是最短的网络前缀</p>
</li>
<li>
<p>特定主机路由：特定主机路由条目中的目的网络<code>192.168.2.1/32</code>,其中<code>192.168.2.1</code>是特定主机的IP地址,而网络前缀“/32”(相应地址掩码为<code>255.255.255.255</code>)是最长的网络前缀</p>
</li>
<li>
<p>路由器在查找转发表转发IP数据报时,遵循“最长前缀匹配”的原则,因此默认路由匹配优先级最低,特定主机路由条目的匹配优先级最高</p>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ZV9GFitH.png" style="zoom:67%;" />
<h4 id="3-路由环路">3. 路由环路</h4>
<ul>
<li>错误配置静态路由有可能导致路由环路问题</li>
<li>为了防止IP数据报在环路中永久兜圈,在IP数据报首部设有生存时间TTL,TTL为0时会被丢弃</li>
</ul>
<p><strong>路由环路问题产生原因：</strong></p>
<ol>
<li><strong>路由配置错误</strong></li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ae9r7c4U.png" style="zoom:67%;" />
<ol start="2">
<li><strong>聚合了不存在的IP地址</strong></li>
</ol>
<blockquote>
<p>需要给不存在的IP地址配置黑洞路由,防止IP数据报转发到其他路由器</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/agvaYwYw.png" style="zoom:67%;" />
<ol start="3">
<li><strong>网络故障</strong></li>
</ol>
<blockquote>
<p>可以在网络发生故障时添加一条针对该IP的黑洞路由,待网络正常后又将其设置为失效状态</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/4SIsCein.png" style="zoom: 67%;" />
<h3 id="4-9-DHCP">4.9 DHCP</h3>
<h4 id="1-概述">1. 概述</h4>
<blockquote>
<p>动态主机配置协议(<code>D</code>ynamic <code>h</code>ost <code>c</code>onfiguration <code>p</code>rotocol)</p>
<p>作用：</p>
<ul>
<li><code>DHCP</code>可为计算机自动配置网络参数,包括：
<ul>
<li>IP地址</li>
<li>子网掩码</li>
<li>默认网关</li>
<li>DNS服务器</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="2-工作过程">2. 工作过程</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ICGzRKfp.png" alt=""></p>
<h4 id="3-DHCP中继代理">3. DHCP中继代理</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Q6Dzgeuh.png" alt=""></p>
<hr>
<h3 id="4-10-路由选择协议">4.10 路由选择协议</h3>
<ol>
<li>路由选择分为两类</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">静态路由选择</th>
<th style="text-align:left">动态路由选择</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">采用<strong>人工配置</strong>的方式给路由器添加网络路由、默认路由和特定主机路由等路由条目</td>
<td style="text-align:left">路由器通过路由选择协议<strong>自动获取</strong>路由信息</td>
</tr>
<tr>
<td style="text-align:left">静态路由选择<strong>简单、开销小</strong>,但不能及时适应网络状态(流量、拓扑等)的变化</td>
<td style="text-align:left">动态路由选择比较<strong>复杂、开销比较大</strong>,但能较好地适<strong>应网络状态</strong>的变化</td>
</tr>
<tr>
<td style="text-align:left">静态路由选择一般只在<strong>小规模网络</strong>中采用</td>
<td style="text-align:left">动态路由选择适用于<strong>大规模网络</strong></td>
</tr>
</tbody>
</table>
<ol start="2">
<li>因特网采用分层次的路由选择协议</li>
</ol>
<p>因特网是全球最大的互联网,它所采取的路由选择协议具有以下三个主要特点：</p>
<ul>
<li>自适应：因特网采用动态路由选择,能较好地适应网络状态的变化。</li>
<li>分布式：因特网中的各路由器通过相互间的信息交互,共同完成路由信息的获取和更新。</li>
<li>分层次：将整个因特网划分为许多较小的自治系统(<code>Autonomous System,AS</code>),在自治系统内部和外部采用不同类别的路由选择协议,分别进行路由选择</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/abaIPV0E.png" style="zoom:67%;" />
<h3 id="4-11-RIP">4.11 RIP</h3>
<p>路由信息协议(<code>Routing Information Protocol,RIP</code>)是内部网关协议中最先得到广泛使用的协议之一</p>
<h4 id="概述-5">概述</h4>
<ul>
<li>
<p>RIP使用跳数(<code>Hop Count</code>)作为度量(<code>Metric</code>)来衡量到达目的网络的距离(<strong>距离向量</strong>)</p>
<ul>
<li>
<p>RIP将路由器到直连网络的距离定义为1</p>
</li>
<li>
<p>RIP将路由器到非直连网络的距离定义为所经过的路由器数加1</p>
</li>
<li>
<p>RIP允许一条路径最多只能包含15个路由器,<span style="color:#ff6b6b;font-weight:bold;">距离等于16时相当于不可达</span>,因此RIP只适用于小型互<br>
联网</p>
</li>
</ul>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/SdAYuRNl.png" style="zoom: 50%;" />
<ol start="2">
<li>
<p>RIP认为<strong>好的路由就是“距离短”的路由</strong>,也就是所通过路由器数量最少的路由,和传输速率和物理距离等无关</p>
</li>
<li>
<p>RIP的3个重要特点</p>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/5Eskdf9i.png" style="zoom: 67%;" />
<h4 id="工作原理">工作原理</h4>
<ol>
<li><strong>基本流程</strong></li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/bH69GgoT.png" style="zoom:67%;" />
<ol start="2">
<li><strong>更新规则</strong></li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Fp83R5QM.png" style="zoom:80%;" />
<ol start="3">
<li>
<p><strong>坏消息传播的慢</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/X8Q0gotf.png" alt=""></p>
</li>
<li>
<p><strong>优缺点</strong></p>
</li>
</ol>
<table>
<thead>
<tr>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>实现简单,路由器开销小</td>
<td>RIP限制了最大RIP距离为<code>15</code>这就限制了使用RIP的自治系统AS的规模</td>
</tr>
<tr>
<td>如果一个路由器发现了RIP距离更短的路由,那么这种更新信息就传播得很快,即“好消息传播得快”</td>
<td>相邻路由器之间交换的路由信息是路由器中的完整路由表,因而随着网络规模的扩大,开销也随之增大</td>
</tr>
<tr>
<td></td>
<td>“<strong>坏消息传播得慢</strong>”,使更新过程的收敛时间过长。因此,对于规模较大的自治系统AS,应当使用<code>OSPF</code>协议</td>
</tr>
</tbody>
</table>
<h3 id="4-12-OSPF">4.12 <code>OSPF</code></h3>
<h4 id="1-基本概念">1. 基本概念</h4>
<blockquote>
<p>开放最短路径优先(<code>Open Shortest Path First,OSPF</code>)协议是为了克服路由信息协议RIP的缺点在1989年开发出来的</p>
<ul>
<li>“开放”表明<code>OSPF</code>协议不是受某一厂商控制,而是公开发表的</li>
<li>“最短路径优先”是因为使用了Dijkstra提出的最短路径算法(<code>Shortest Path First,SPF</code>)</li>
</ul>
</blockquote>
<h4 id="2-特点">2. 特点</h4>
<blockquote>
<ul>
<li><code>OSPF</code>是基于<strong>链路状态</strong>的,而不像<code>RIP</code>是基于距离向量的</li>
<li><code>OSPF</code>基于链路状态并采用最短路径算法计算路由,从算法上保证了不会产生路由环路</li>
<li><code>OSPF</code>不限制网络规模,更新效率高,收敛速度快</li>
</ul>
</blockquote>
<h4 id="3-相关概念">3. 相关概念</h4>
<ol>
<li>
<p>链路状态(<code>Link State,LS</code>)是指本路由器都和哪些路由器相邻,以及相应链路的“代价(cost)”,类似RIP中的距离</p>
<blockquote>
<p>“代价”用来表示费用、距离、时延和带宽等,这些都由网络管理人员来决定</p>
</blockquote>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/RT6StboJ.png" style="zoom:80%;" alt='举例-思科路由器的代价计算标准' />
<ol start="2">
<li><strong><code>OSPF</code>路由器邻居关系的建立和维护</strong>
<ul>
<li><strong>如果在死亡倒计时为0时还未收到邻居的问候分组,则认为该邻居不可达,</strong></li>
<li><strong>在接受到邻居的问候分组后,刷新死亡倒计时为40s</strong></li>
<li><strong>路由器每10s会向邻居发送问候分组</strong></li>
</ul>
</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/8vMlgEEu.png" style="zoom:67%;" />
<ol start="3">
<li><strong>链路状态数据库</strong>(<code>Link State Database,LSDB</code>)</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/EeKgSYgV.png" alt=""></p>
<blockquote>
<p>使用<code>OSPF</code>的各路由器,基于链路状态数据库LSDB进行最短路径优先计算,构建出各自到达其他各路由器的最短路径,即构建各自的路由表(根据链路状态数据库得出全局带权有向图,使用Dijkstra算法得出个路由器的最短路径)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/5UrNfzxP.png" alt=""></p>
<ol start="4">
<li><strong><code>OSPF</code>的五种分组类型</strong>
<ul>
<li>类型1,问候(<code>Hello</code>)分组：用来发现和维护邻居路由器的可达性。</li>
<li>类型2,数据库描述(<code>Database Description</code>)分组：向邻居路由器给出自己的链路状态数据库中的所有链路状态项目的摘要信息</li>
<li>类型3,链路状态请求(<code>Link State Request</code>)分组：向邻居路由器请求发送某些链路状态项目的详细信息。</li>
<li>类型4,链路状态更新(<code>Link State Update</code>)分组：路由器使用这种分组将其链路状态进行洪泛发送,即用洪泛法对全网更新链路状态</li>
<li>类型5,链路状态确认(<code>Link State Acknowledgment</code>)分组：这是对链路状态更新分组的确认分组。</li>
</ul>
</li>
</ol>
<h4 id="4-基本工作原理">4. 基本工作原理</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/BIoaiRjA.png" style="zoom:67%;" />
<blockquote>
<p>采用划分区域的方法,虽然使交换信息的种类增多了,同时也使OSPF协议更加复杂了,但这样做能使每一个区域内部交换路由信息的通信量大大减小,因而使OSPF协议能够用于规模更大的自治系统AS</p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/taHfWwBu.png" style="zoom:67%;" />
<h3 id="4-13-BGP">4.13  <code>BGP</code></h3>
<h4 id="1-基本概念-2">1. 基本概念</h4>
<blockquote>
<ul>
<li><strong>边界网关协议</strong>(<code>Border Gateway Protocol,BGP</code>)属于外部网关协议<code>EGP</code>这个类别,用于自治系统<code>AS</code>之间的路由选择协议</li>
<li>由于在不同AS内度量路由的“代价”(距离、带宽、费用等)可能不同,因此对于AS之间的路由选择,使用统一的“代价”作为度量来寻找最佳路由是不行的</li>
<li>AS之间的路由选择还必须考虑相关策略(政治、经济、安全等)</li>
</ul>
<p><strong>总结：<code>BGP</code>只能是力求寻找一条能够到达目的网络且比较好的路由(即不能兜圈子),而并非要寻找一条最佳路由</strong></p>
</blockquote>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/kc7UmfJ1.png" style="zoom: 80%;" />
<blockquote>
<ul>
<li>
<p>在配置BGP时,每个AS的管理员要选择至少一个路由器作为该AS的“BGP发言人”</p>
</li>
<li>
<p>一般来说,两个BGP发言人都是通过一个共享网络连接在一起的,而BGP发言人往往就是BGP边界路由器</p>
</li>
<li>
<p>使用<code>TCP</code>连接交换路由信息的两个BGP发言人,彼此称为对方的邻站(neighbor)或对等站(peer)</p>
</li>
<li>
<p>BGP发言人除了运行BGP协议外,还必须运行自己所在AS所使用的内部网关协议IGP,例如RIP或OSPF</p>
</li>
<li>
<p>BGP发言人交换网络可达性的信息,也就是要到达某个网络所要经过的一系列自治系统</p>
</li>
<li>
<p>当BGP发言人相互交换了网络可达性的信息后,各BGP发言人就根据所采用的策略,从收到的路由信息中找出到达各自治系统的较好的路由,也就是构造出树形结构且不存在环路的自治系统连通图</p>
</li>
</ul>
</blockquote>
<h4 id="2-四种报文">2. 四种报文</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/JlA83rKF.png"  />
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/1hHeU3jo.png"  />
<h3 id="4-14-ICMP">4.14 <code>ICMP</code></h3>
<h4 id="1-基本概念-3">1. 基本概念</h4>
<blockquote>
<ul>
<li>为了更有效地转发IP数据报以及提高IP数据报交付成功的机会,TCP/IP体系结构的网际层使用了网际控制报文协议(<code>Internet Control Message Protocol,ICMP</code>)</li>
<li>主机或路由器使用ICMP来发送差错报告报文和询问报文</li>
<li>ICMP报文被封装在IP数据报中作为数据载荷发送</li>
</ul>
</blockquote>
<h4 id="2-ICMP报文数据类型">2. ICMP报文数据类型</h4>
<ul>
<li>
<p><strong>差错报告报文</strong>：用来向主机或路由器报告差错情况</p>
<ul>
<li>
<p><strong>终点不可达</strong>：当路由器或主机不能交付IP数据报时,就向源点发送终点不可达报文,具体可再根据ICMP的代码字段细分为目的网络不可达、目的主机不可达、目的协议不可达、目的端口不可达、目的网络未知、目的主机未知等13种</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xmyVOhJp.png" alt=""></p>
</li>
<li>
<p><strong>源点抑制</strong>：当路由器或主机由于拥塞而丢弃IP数据报时,就向发送该IP数据报的源点发送源点抑制报文,使源点知道应当把IP数据报的发送速率放慢</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ImvUYf3I.png"  />
</li>
<li>
<p><strong>超时</strong>：</p>
<ul>
<li>当路由器收到一个目的IP地址不是自己的IP数据报时,会将其首部中生存时间TTL字段的值减1。若结果不为0,则路由器将该数据报转发出去；若结果为0,路由器不但要丢弃该数据报,还要向发送该IP数据报的源点发送时间超过(超时)报文</li>
<li>另外,当终点在预先规定的时间内未能收到一个数据报的全部数据报分片时,就把已收到的数据报片都丢弃,也会向源点发送时间超过(超时)报文</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/7q3jrjnI.png"  />
</li>
<li>
<p><strong>参数问题</strong>：当路由器或目的主机收到IP数据报后,根据其首部中的检验和字段的值发现首部在传送过程中出现了误码,就丢弃该数据报,并向发送该数据报的源点发送参数问题报文</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/OJVARiNr.png" alt=""></p>
</li>
<li>
<p><strong>改变路由(重定向)</strong>：路由器把改变路由报文发送给主机,让主机知道下次应将IP数据报发送给另外的路由器,这样可以通过更好的路由到达目的主机</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/iebrHMN6.png" alt=""></p>
</li>
</ul>
</li>
<li>
<p><strong>以下情况不应发送ICMP差错报告报文</strong>：</p>
<ul>
<li>对ICMP差错报告报文不再发送ICMP差错报告报文</li>
<li>对第一个分片的IP数据报片的所有后续数据报片都不发送ICMP差错报告报文</li>
<li>对具有多播地址的IP数据报都不发送ICMP差错报告报文</li>
<li>对具有特殊地址(例如<code>127.0.0.0</code>或<code>0.0.0.0</code>)的IP数据报不发送ICMP差错报告报文。</li>
</ul>
</li>
<li>
<p><strong>询问报文</strong>：用来向主机或路由器询问情况</p>
<ul>
<li>
<p><strong>回送请求和回答</strong>：</p>
<p>由主机或路由器向一个特定的目的主机或路由器发出。收到此报文的主机或路由器必须给发送该报文的源主机或路由器发送ICMP回送回答报文。这种询问报文用来测试目的站是否可达以及了解其有关状态</p>
</li>
<li>
<p><strong>时间戳请求和回答</strong>：</p>
<p>用来请求某个主机或路由器回答当前的日期和时间。在ICMP时间戳回答报文中有一个32比特的字段,其中写入的整数代表从1900年1月1日起到当前时刻一共有多少秒。这种询问报文用来进行时钟同步和测量时间</p>
</li>
</ul>
</li>
</ul>
<h4 id="3-ICMP的典型应用">3. ICMP的典型应用</h4>
<h5 id="1-PING">1. <code>PING</code></h5>
<blockquote>
<p>分组网间探测(Packet InterNet Groper,<code>PING</code>)</p>
<p>在命令行中使用ping命令用来测试主机或路由器之间的连通性</p>
<ul>
<li>PING是TCP/IP体系结构的应用层直接使用网际层ICMP的一个例子,它并不使用运输层的TCP或UDP</li>
<li>PING应用所使用的ICMP报文类型为回送请求和回答</li>
</ul>
</blockquote>
<h5 id="2-traceroute">2. <code>traceroute</code></h5>
<blockquote>
<p>跟踪路由应用traceroute,用于探测IP数据报从源主机到达目的主机要经过哪些路由器</p>
<p>在不同操作系统中,traceroute应用的命令和实现机制有所不同：</p>
<ul>
<li>在UNIX版本中,具体命令为<code>traceroute</code>,其在运输层使用UDP协议,在网络层使用ICMP报文类型只有差错报告报文</li>
<li>在Windows版本中,具体命令为<code>tracert</code>,其应用层直接使用网际层的ICMP协议,所使用的ICMP报文类型有回送请求和回答报文以及差错报告报文</li>
</ul>
<p><strong>原理</strong>：设置IP数据报TTL为1,经过第一个路由器时,TTL减为0,IP数据报被丢弃,路由器向源主机发送超时差错报告报文,这样就知道了经过的第一个路由器的IP地址,以此类推依次设置TTL为2,3,4,……,直到接收到目的主机的回送请求回答报文</p>
</blockquote>
<h3 id="4-15-VPN">4.15 <code>VPN</code></h3>
<blockquote>
<p>虚拟专用网(<code>Virtual Private Network,VPN</code>)：<strong>利用公用的因特网作为本机构各专用网之间的通信载体,这样形成的网络又称为虚拟专用网</strong></p>
</blockquote>
<p><strong>专用地址</strong>：</p>
<ul>
<li><code>10.0.0.0-10.255.255.255</code>(CIDR地址块10/8)</li>
<li><code>172.16.0.0-172.31.255.255</code>(ClDR地址块172.16/12)</li>
<li><code>192.168.0.0-192.168.255.255</code>(CIDR地址块192.168/16)</li>
</ul>
<blockquote>
<p>很显然,全世界可能有很多不同机构的专用网具有相同的专用IP地址,但这并不会引起麻烦,因为这些专用地址仅在机构内部使用</p>
<p><strong>注意</strong>：在因特网中的所有路由器,对目的地址是专用地址的IP数据报一律不进行转发,这需要由因特网服务提供者ISP对其拥有的因特网路由器进行设置来实现(需要自己对路由器额外配置)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/x4VahylJ.png" alt=""></p>
<h3 id="4-16-NAT">4.16 <code>NAT</code></h3>
<h4 id="1-概述-2">1. 概述</h4>
<blockquote>
<ul>
<li>
<p><strong>背景</strong>：尽管因特网采用了无分类编址方法来减缓IPv4地址空间耗尽的速度,但由于因特网用户数量的急剧增长,特别是大量小型办公室和家庭网络接入因特网的需求不断增加,IPv4地址空间即将耗尽的危险然仍没有解除(实际上,因特网号码分配管理局IANN于2011年2月3日宣布,IPv4地址已经分配完毕)</p>
</li>
<li>
<p><strong>网络地址转换</strong>(<code>Network Address Translation,NAT</code>)技术于1994年被提出,用来缓解IPv4地址空间即将耗尽的问题</p>
<ul>
<li>NAT能使大量使用内部专用地址的专用网络用户共享少量外部全球地址来访问因特网上的主机和资源</li>
<li>这种方法需要在专用网络连接到因特网的路由器上安装NAT软件。装有NAT软件的路由器称为NAT路由器,它至少要有一个有效的外部全球地址IPG。这样,所有使用内部专用地址的主机在和外部因特网通信时,都要在NAT路由器上将其内部专用地址转换成IPG</li>
</ul>
</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/jGM9Vzo8.png" alt=""></p>
<h4 id="2-NAPT">2. <code>NAPT</code></h4>
<blockquote>
<p><strong>网络地址与端口号转换方法</strong>:将NAT和运输层端口号结合使用,称为网络地址与端口号转换(<code>Network Address and Port Translation,NAPT</code>)</p>
<ul>
<li>由于目前绝大多数基于TCP/IP协议栈的网络应用,都使用运输层的传输控制协议TCP或用户数据报协议UDP,为了更加有效地利用NAT路由器中的全球IP地址,现在常将NAT转换和运输层端口号结合使用
<ul>
<li>这样就可以使内部专用网中使用专用地址的大量主机,共用NAT路由器上的1个全球IP地址,因而可以同时与因特网中的不同主机进行通信</li>
<li>现在很多家用路由器将家中各种智能设备(手机、平板、笔记本电脑、台式电脑、物联网设备等)接入因特网,这种路由器实际上就是一个NAPT路由器,但往往并不运行路由选择协议</li>
</ul>
</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/pXcz3mVQ.png" alt=""></p>
<blockquote>
<p>由于NAT对外网屏蔽了内网主机的网络地址,能为内网的主机提供一定的安全保护</p>
</blockquote>
<h3 id="5-思维导图和习题">5. 思维导图和习题</h3>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/ceLxGZ0br8Gy">第4章 网络层(思维导图)-1 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cu2tek1gzIPq">第4章 网络层(思维导图)-2 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cjXVALCjxr0X">第4章 网络层(思维导图)-3 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cbSlBNdR8CSr">第4章 网络层(思维导图)-4 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/ccu9ATsOpoZf">第4章 网络层 习题(第1部分)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cqBldcygudFg">第4章 网络层 习题(第2部分)</a></p>
<hr>
<h2 id="5-运输层">5. 运输层</h2>
<h3 id="1-概述-3">1. 概述</h3>
<ul>
<li>第2~4章依次介绍了计算机网络体系结构中的物理层、数据链路层和网络层,它们共同解决了将主机通过异构网络互联起来所面临的问题,实现了主机到主机的通信</li>
<li>然而在计算机网络中实际进行通信的真正实体,是位于通信两端主机中的进程</li>
<li>如何<strong>为运行在不同主机上的应用进程提供直接的逻辑通信服务</strong>,就是运输层的主要任务,运输层协议又称为端到端协议</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/D2rQouVM.png" alt=""></p>
<h3 id="2-端口号-复用和分用">2. 端口号,复用和分用</h3>
<h4 id="1-运输层端口号">1. 运输层端口号</h4>
<ul>
<li>运行在计算机上的进程是使用进程标识符(<code>P</code>rocess <code>ld</code>entification,<code>PID</code>)来标识的。
<ul>
<li>然而,因特网上的计算机并不是使用统一的操作系统,而不同操作系统(Windows、Linux、.MacOS)<br>
又使用不同格式的进程标识符</li>
<li>为了使运行不同操作系统的计算机的应用进程之间能够基于网络进行通信,就必须使用统一的方法<br>
对TCPP体系的应用进程进行标识</li>
</ul>
</li>
<li><code>TCP/IP</code>体系结构的运输层使用端口号来标识和区分应用层的不同应用进程。端口号的长度为6比特,取<br>
值范围是0~65535</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/LEoAKn42.png" style="zoom:100%;" />
<blockquote>
<p><strong>端口号只具有本地意义,即端口号只是为了标识本计算机网络协议栈应用层中的各应用进程。在因特网中,不同计算机中的相同端口号是没有关系的,即相互独立。另外,<code>TCP</code>和<code>UDP</code>端口号之间也是没有关系的</strong></p>
</blockquote>
<h4 id="2-发送方的复用和接收方的分用">2. 发送方的复用和接收方的分用</h4>
<ol>
<li><strong>复用(Multiplexing)：</strong>
<ul>
<li><strong>定义：</strong> 复用是指将多个应用程序的数据流合并到一个共享的通信通道上</li>
<li><strong>TCP中的复用：</strong> 在TCP中,复用通过源端口号来实现。TCP连接的两端使用IP地址和端口号来唯一标识。源端口号表示发送端的应用程序,目的端口号表示接收端的应用程序。这样,在单个TCP连接中,多个应用程序的数据可以共享同一个物理通信通道</li>
<li><strong>UDP中的复用：</strong> 在UDP中,复用同样通过源端口号来实现。UDP报文的源端口号用于标识发送端的应用程序,目的端口号用于标识接收端的应用程序</li>
</ul>
</li>
<li><strong>分用(Demultiplexing)：</strong>
<ul>
<li><strong>定义：</strong> 分用是指根据数据流中的标识信息将合并的数据流分发给正确的应用程序</li>
<li><strong>TCP中的分用：</strong> 在TCP中,分用通过目的端口号来实现。接收端根据目的端口号将接收到的数据分发给相应的应用程序。这样,TCP层能够将数据正确地传递给目标应用程序</li>
<li><strong>UDP中的分用：</strong> 在UDP中,同样通过目的端口号来实现分用。接收端通过目的端口号确定应该将数据交付给哪个应用程序</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/HKhQUmCb.png" alt=""></p>
<blockquote>
<p>常见协议的分类</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ioR9SdPa.png" alt=""></p>
<p><strong><a target="_blank" rel="noopener" href='https://www.bilibili.com/video/BV1c4411d7jb?t=353.6&p=58'>运输层端口号应用举例</a></strong></p>
<h3 id="3-TCP和UDP的对比">3.  <code>TCP</code>和<code>UDP</code>的对比</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/8ufoDA1F.png" alt=""></p>
<p><strong>注意</strong>：</p>
<ul>
<li>TCP面向连接是逻辑连接,并非真实物理连接</li>
<li>TCP面向字节流,UDP面向应用报文(只是给数据报添加一个UDP首部)</li>
<li>TCP只支持单播,UDP支持单播、多播和广播</li>
<li>TCP提供可靠服务,UDP提供不可靠服务</li>
</ul>
<h3 id="4-TCP的流量控制">4. TCP的<strong>流量控制</strong></h3>
<h4 id="1-概述-4">1. 概述</h4>
<blockquote>
<p>TCP为应用程序提供了流量控制(<code>Flow Control</code>)机制,以解决因发送方发送数据太快而导致接收方来不及接收,造成接收方的接收缓存溢出的问题</p>
<p>**流量控制的基本方法：**接收方根据自己的接收能力(接收缓存的可用空间大小)控制发送方的发送速率</p>
</blockquote>
<h4 id="2-a-href-https-www-bilibili-com-video-BV1c4411d7jb-t-44-1-p-60-流量控制方法-a">2. <a target="_blank" rel="noopener" href='https://www.bilibili.com/video/BV1c4411d7jb?t=44.1&p=60'>流量控制方法</a></h4>
<ol>
<li><strong>流程</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/W4mjWAtQ.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/3DCPrqks.png" alt=""></p>
<ol start="2">
<li>
<p>例题</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/eYiMYvRR.png" alt=""></p>
</li>
</ol>
<h3 id="5-TCP的拥塞-se-控制">5. TCP的<strong>拥塞(se)控制</strong></h3>
<h4 id="1-基本概念-4">1. 基本概念</h4>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xL1bNfCp.png" />
<h4 id="2-4种拥塞控制方法">2. 4种拥塞控制方法</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/v0EQTjNj.png" alt=""></p>
<h5 id="1-慢开始、拥塞避免">1. 慢开始、拥塞避免</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/1mqfBCfM.png" alt=""></p>
<h5 id="2-快重传、快恢复">2. 快重传、快恢复</h5>
<blockquote>
<p>快重传算法和快恢复算法(改进TCP性能,1990年Reno版本)</p>
</blockquote>
<ol>
<li>问题</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/MiKI7G2d.png" alt=""></p>
<ol start="2">
<li>
<p><strong>快重传</strong></p>
<ul>
<li><strong>采用快重传算法可以让发送方尽早知道发生了个别TCP报文段的丢失</strong></li>
<li>“快重传”是指<strong>使发送方尽快(尽早)进行重传,而不是等重传计时器超时再重传</strong>
<ul>
<li>这就要求接收方不要等待自己发送数据时才进行捎带确认,而是要立即发送确认,即使收到了失序的报文段也要立即发出对已收到的报文段的重复确认</li>
<li>发送方一旦收到3个连续的重复确认,就将相应的报文段立即重传,而不是等该报文段的重传计时器超时再重传</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xkVEdIRO.png" alt=""></p>
</li>
<li>
<p><strong>快恢复</strong></p>
</li>
</ol>
<blockquote>
<p>与快重传算法配合使用的是<strong>快恢复算法</strong>,发送方一旦收到3个重复确认,就知道现在只是丢失了个别的报文段,于是不启动慢开始算法,<strong>而是执行快恢复算法</strong></p>
<ul>
<li><strong>快恢复算法：<strong>发送方将慢开始门限ssthresh的值和拥塞窗口cwnd的值</strong>都调整为当前cwnd值的一半</strong>,并开始执行拥塞避免算法</li>
<li>也有的快恢复实现是把快恢复开始时的cwnd值再增大一些,即cwnd=新ssthresh+3</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/qO3uhLLl.png" alt=""></p>
<h3 id="6-TCP超时重传时间的选择">6. TCP超时重传时间的选择</h3>
<blockquote>
<p><strong>TCP超时重传时间RTO的选择是TCP最复杂的问题之一</strong></p>
<p>问题：</p>
<ul>
<li>超时重传时间设置过小,在确认报文段发送给接收方的过程中,发送方重传数据报文,增大了网络负荷</li>
<li>超时重传时间设置过大,需要重传数据报文时,推迟时间太长,网络空闲时间大,降低了传输效率</li>
<li>超时重传时间<code>RTO</code>应略大于往返时间<code>RTT</code></li>
</ul>
</blockquote>
<h4 id="RTO的选择"><strong>RTO的选择</strong></h4>
<h5 id="1-RTTs的计算">1. RTTs的计算</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/UDFqDvXR.png" alt=""></p>
<h5 id="2-RRTd和RTO的计算">2. RRTd和RTO的计算</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/HY1BAdru.png" alt=""></p>
<h4 id="发生超时重传时无法测准RTT">发生超时重传时无法测准RTT</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/yNzUzb2Y.png" alt=""></p>
<blockquote>
<p><strong>通过上述两个例子可以看出：当发送方出现超时重传后,收到确认报文段时是无法判断出该确认到底是对原数据报文段的确认还是对重传数据报文段的确认,也就是无法准确测量出RTT,进而无法正确计算RTO</strong></p>
</blockquote>
<h5 id="Karn算法及修正">Karn算法及修正</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/AwbzanjU.png" alt=""></p>
<h5 id="总结">总结</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xrIJQlOc.png" alt=""></p>
<h3 id="7-TCP可靠传输的实现">7.TCP可靠传输的实现</h3>
<ul>
<li><strong>TCP的窗口以字节为单位</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/YjEPy8k0.png" alt=""></p>
<ul>
<li>发送方
<ul>
<li>发送窗口内的已发送数据如果迟迟未收到确认,会发生超时重传</li>
<li>只有处于发送窗口内的数据才能发送</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/fR0t7TXv.png" alt=""></p>
<ul>
<li>接收方
<ul>
<li>接收方<strong>只能对按序收到的数据中的最高序号给出累计确认</strong>,3次重复确认会导致发送方<strong>快重传</strong></li>
<li><strong>序号落入接收窗口内的数据是允许接收的数据</strong></li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/i29w36GO.png" alt=""></p>
<ul>
<li><strong>总结</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/or468nHg.png" alt=""></p>
<h3 id="8-TCP的运输连接管理">8. TCP的运输连接管理</h3>
<h4 id="1-TCP连接的建立">1. TCP连接的建立</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/J2XMeS5i.png" alt=""></p>
<blockquote>
<p>TCP双方连接的建立要解决的三个问题</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/unn0sUEo.png" alt=""></p>
<h4 id="2-三报文握手">2. 三报文握手</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/LViPPUEp.png" alt=""></p>
<blockquote>
<p><strong>思考：第三次确认是否多余,能不能两报文握手？</strong></p>
<p>答案：不能,如下图所示</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/ubh3gJLp.png" alt=""></p>
<h4 id="3-四报文挥手">3. 四报文挥手</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/80yAaiIl.png" alt=""></p>
<blockquote>
<p><strong>思考：为什么客户端发送完最后一个确认报文段后不立刻关闭而是等待2个MSL时间后才关闭？</strong></p>
<p>答案：如图所示</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/G3BFV47H.png" alt=""></p>
<blockquote>
<p>TCP保活计时器的作用</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/xivu7oAV.png" alt=""></p>
<h3 id="9-TCP报文段首部格式">9. TCP报文段首部格式</h3>
<blockquote>
<p>参阅思维导图 1</p>
</blockquote>
<h3 id="10-思维导图和习题">10. 思维导图和习题</h3>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cgoja6Lpohhj">第5章 运输层(思维导图)-1 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/chkSS9vn9Zgd">第5章 运输层(思维导图)-2 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cpaRQtp0G6Ou">第5章 运输层 习题 (kdocs.cn)</a></p>
<hr>
<h2 id="6-应用层">6. 应用层</h2>
<h3 id="1-概述-5">1. 概述</h3>
<ul>
<li>应用层是计算机网络体系结构的<strong>最顶层</strong>,是<strong>设计和建立计算机网络的最终目的</strong>,也是计算机网络中发展最快的部分
<ul>
<li>早期基于文本的应用(电子邮件、远程登录、文件传输、新闻组)</li>
<li>20世纪90年代将因特网带入千家万户的万维网WWW</li>
<li>当今流行的即时通信、P2P文件共享及各种音视频应用</li>
<li>计算设备的小型化和“无处不在”,宽带住宅接入和无线接入的日益普及和迅速发展,为未来更多的新型应用提供了广阔的舞台</li>
</ul>
</li>
</ul>
<h3 id="2-客户服务器和对等方式">2. 客户服务器和对等方式</h3>
<h4 id="1-C-S方式">1. <code>C/S</code>方式</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/N4aLVqmQ.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/lXMm63X5.png" alt=""></p>
<h4 id="2-P2P方式">2. <code>P2P</code>方式</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Vj0hHf1g.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/yAx2AVuq.png" alt=""></p>
<h3 id="4-DNS">4. <code>DNS</code></h3>
<blockquote>
<p><strong>域名系统</strong>(<code>D</code>omain <code>N</code>ame <code>S</code>ystem,<code>DNS</code>)</p>
</blockquote>
<h4 id="1-域名系统的作用">1. 域名系统的作用</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/gBFxses1.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/x1tUx2vm.png" alt=""></p>
<h4 id="2-因特网的域名结构">2. 因特网的域名结构</h4>
<blockquote>
<p>因特网采用<strong>层次树状结构的域名结构</strong></p>
</blockquote>
<h5 id="1-域名规范">1. 域名规范</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/AoFgDCmt.png" alt=""></p>
<h5 id="2-不同国家的域名">2. 不同国家的域名</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/6WUpB9Oh.png" alt=""></p>
<h5 id="3-因特网的域名空间">3. 因特网的域名空间</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/rBS3t5ef.png" alt=""></p>
<h4 id="3-域名服务器">3. 域名服务器</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/zLHYxWek.png" alt=""></p>
<h4 id="4-域名解析">4. 域名解析</h4>
<h5 id="1-递归查询">1. 递归查询</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/FpBrwNqb.png" alt=""></p>
<h5 id="2-迭代查询">2. 迭代查询</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/nQ6sAl2O.png" alt=""></p>
<h5 id="3-高速缓存">3. 高速缓存</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/pcwXhKnx.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/8BLUzbFZ.png" alt=""></p>
<h3 id="5-FTP">5. <code>FTP</code></h3>
<blockquote>
<p><strong>文件传送协议</strong>(<code>F</code>ile <code>T</code>ransfer <code>P</code>rotocol,<code>FTP</code>)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/83gndWFQ.png" alt=""></p>
<blockquote>
<p><strong>基本工作原理</strong></p>
</blockquote>
<ol>
<li>主动模式</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/zIeZrtFX.png" alt=""></p>
<ol start="2">
<li>被动模式</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/Gm7FBUWz.png" alt=""></p>
<h3 id="6-电子邮件">6. 电子邮件</h3>
<h4 id="1-E-mail">1. <code>E-mail</code></h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/dRoMrTBk.png" alt=""></p>
<h4 id="2-电子邮件系统的组成">2. 电子邮件系统的组成</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/bK0zdDmM.png" alt=""></p>
<h4 id="3-邮件发送和接收过程">3. 邮件发送和接收过程</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/D9l7k3yg.png" alt=""></p>
<h4 id="4-SMTP">4. <code>SMTP</code></h4>
<blockquote>
<p>简单邮件传送协议(Simple Mail Transfer Protocol,<code>SMTP</code>)的基本工作过程</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/DMl68A1m.png" alt=""></p>
<h4 id="5-电子邮件的信息格式">5. 电子邮件的信息格式</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/mMKxiFqt.png" alt=""></p>
<h4 id="6-MIME">6. <code>MIME</code></h4>
<blockquote>
<p><strong>多用途因特网邮件扩展</strong> (Multipurpose Internet Mail Extensions,<code>MIME</code>)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/l34rdKif.png" alt=""></p>
<blockquote>
<p><strong><code>MIME</code>对邮件内容中的非ASCII字符转换成ASCII字符</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/GwUXUJEh.png" alt=""></p>
<h4 id="7-常用邮件读取协议">7. 常用邮件读取协议</h4>
<blockquote>
<p><strong>邮局协议</strong>(Post Office Protocol,<code>POP</code>)</p>
<p><strong>因特网邮件访问协议</strong>(Internet Message Access Protocol,<code>IMAP</code>)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/2e8zsrXX.png" alt=""></p>
<h4 id="8-基于万维网的电子邮件">8. 基于万维网的电子邮件</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/qYWywPpx.png" alt=""></p>
<h3 id="7-万维网">7. 万维网</h3>
<h4 id="1-概述-6">1. 概述</h4>
<blockquote>
<ul>
<li><strong>万维网</strong>(World Wide Web,<code>WWW</code>)并非某种特殊的计算机网络。它是一个大规模的、联机式的信息储藏所,是运行在因特网上的一个分布式应用</li>
<li>万维网利用网页之间的超链接将不同网站的网页链接成一张逻辑上的信息网</li>
<li>万维网是欧洲粒子物理实验室的Tim Berners-Lee最初于1989年3月提出的</li>
</ul>
</blockquote>
<h4 id="2-URL">2. <code>URL</code></h4>
<blockquote>
<p>统一资源定位符(<code>U</code>niform <code>R</code>esource <code>L</code>ocator)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/pQNu9Io6.png" alt="image-20231205094301978"></p>
<h4 id="3-万维网文档">3. 万维网文档</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/MEItS0Eb.png" alt=""></p>
<h4 id="4-HTTP">4. <code>HTTP</code></h4>
<h5 id="1-概述-7">1. 概述</h5>
<blockquote>
<p><strong>超文本传输协议</strong><code>HTTP</code>(HyperText Transfer Protocol)</p>
<p>HTTP定义了<strong>浏览器(即万维网客户进程)怎样向万维网服务器请求万维网文档,以及万维网服务器怎样把万维网文档传送给浏览器</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/MilI8kKE.png" alt=""></p>
<h5 id="2-报文格式">2. 报文格式</h5>
<ul>
<li>请求报文格式</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/lj3eU4LR.png" alt=""></p>
<ul>
<li>响应报文格式</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/8CMJ8OdG.png" alt=""></p>
<h4 id="5-Cookie">5. <code>Cookie</code></h4>
<ul>
<li>早期的万维网应用非常简单,仅仅是用户查看存放在不同服务器上的各种静态的文档。因此HTTP被设计为一种无状态的协议。这样可以简化服务器的设计</li>
<li>现在,用户可以通过万维网进行各种复杂的应用,如网上购物、电子商务等。这些应用往往需要万维网服务器能够识别用户</li>
<li>Cookie提供了一种机制使得万维网服务器能够“记住”用户,而无需用户主动提供用户标识信息。也就是说,Cookie是一种对无状态的HTTP进行状态化的技术</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/jdF402Xf.png" alt=""></p>
<h4 id="6-万维网缓存与代理服务器">6. 万维网缓存与代理服务器</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/TH8yLUXM.png" alt=""></p>
<h4 id="7-思维导图和相关习题">7. 思维导图和相关习题</h4>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cle5dxMBHZIH">第6章 应用层(思维导图)-1 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cabHsokbKiNO">第6章 应用层(思维导图)-2 (kdocs.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kdocs.cn/view/l/cv9vfzDopPvi">第6章 应用层 习题 (kdocs.cn)</a></p>
<hr>
<h2 id="计算机网络相关术语"><em>计算机网络相关术语</em></h2>
<p><strong>ACK</strong> (Acknowledgement) 确认</p>
<p><strong>ADSL</strong> (Asymmetric Digital Subscriber Line) 非对称数字用户线</p>
<p><strong>AP</strong> (Access Point) 接入点</p>
<p><strong>AP</strong> (Application) 应用程序</p>
<p><strong>API</strong> (Application Programming Interface) 应用编程接口</p>
<p><strong>APNIC</strong> (Asia Pacific Network Information Centre) 亚太网络信息中心</p>
<p><strong>ARIN</strong> (American Registry for Internet Numbers) 美国因特网号码注册机构</p>
<p><strong>ARP (Address Resolution Protocol) 地址解析协议</strong></p>
<p><strong>ARPA</strong> (Advanced Research Projects Agency) 美国国防部远景研究规划局 (高级研究计划署)</p>
<p><strong>ARQ</strong> (Automatic Repeat-request) 自动重传请求</p>
<p><strong>AS</strong> (autonomous system) 自制系统</p>
<p><strong>BGP</strong> (Border Gateway Protocol ) 边界网关协议</p>
<p><strong>BOOTP</strong> (Bootstrap Protocol) 引导程序协议</p>
<p><strong>BSA</strong> (Basic Service Area) 基本服务区</p>
<p><strong>BT</strong> (Bit Torrent) 一种P2P程序</p>
<p><strong>CA</strong> (Certificate Authority) 认证中心</p>
<p><strong>CA</strong> (Collision Avoidance) 碰撞避免</p>
<p><strong>CATV</strong> ( Community Antenna Television) 有线电视</p>
<p><strong>CDM</strong> (Code Division Multiplexing) 码分复用</p>
<p><strong>CDMA</strong> (Code Division Multiple Access) 码分多址</p>
<p><strong>CGI</strong>  (Common Gateway Interface) 通用网关接口</p>
<p><strong>CIDR</strong> (Classless Inter-Domain Routing) 无分类域间路由选择</p>
<p><strong>CRC</strong> (Cyclic Redundancy Check) 循环冗余校验</p>
<p><strong>CSMA/CD</strong> (Carrier Sense Multiple Access/Collision Detect) 载波监听 多址接入/碰撞检测</p>
<p><strong>CSMA/CA</strong> (Carrier Sense Multiple Access with Collision Avoidance)  载波监听多点接入/冲突避免</p>
<p><strong>CTS</strong> (Clear To Send) 允许发送</p>
<p><strong>DACS</strong> (Digital Access and Cross-connect System) 数字交接系统</p>
<p><strong>DHCP (Dynamic Host Configuration Protocol) 动态主机配置协议</strong></p>
<p><strong>DiffServ (Differentiated Services) 区分服务</strong></p>
<p><strong>DLCI</strong> (Data Link Connection Identifier) 数据链路连接标识符</p>
<p><strong>DMT</strong> (Discrete Multi-Tone) 离散多音 (调制)</p>
<p><strong>DNS</strong> (Domain Name System) 域名系统</p>
<p><strong>DoS</strong> (Denial of Service) 拒绝服务</p>
<p><strong>DS</strong> (Distribution System) 分配系统</p>
<p><strong>DSL</strong> (Digital Subscriber Line) 数字用户线</p>
<p><strong>DSLAM</strong> ( DSL Access Multiplexer) 数字用户线接入复用器</p>
<p><strong>DSSS</strong> (Direct Sequence Spread Spectrum) 直接序列扩频</p>
<p><strong>EFM</strong> (Ethernet in the First Mile ) 第一英里的以太网</p>
<p><strong>EFPHB</strong> (Expedited Forwarding Per-Hop Behavior) 迅速转发每跳行为</p>
<p><strong>EGP</strong> (Exterior Gateway Protocol) 外部网关协议</p>
<p><strong>EIA</strong> (Electronic Industries Association) 美国电子工业协会</p>
<p><strong>FCS</strong> (Frame Check Sequence) 帧检验序列</p>
<p><strong>FDDI</strong> (fiber-distributed data interface) 光纤分布式数据接口</p>
<p><strong>FDM</strong> (Frequency-division multiplexing) 频分复用</p>
<p><strong>FEC</strong> (Forwarding Equivalence Class) 转发等价类</p>
<p><strong>FFD</strong> (Full-Function Device) 全功能设备</p>
<p><strong>FHSS</strong> (Frequency-Hopping Spread Spectrum) 跳频扩频</p>
<p><strong>FIFO</strong> (First In First Out) 先进先出</p>
<p><strong>FQ</strong> (Fair Queuing) 公平排队</p>
<p><strong>FTP (File Transfer Protocol) 文件传输协议</strong></p>
<p><strong>GIF</strong> (Graphics System for Mobile) 全球移动通信系统,GSM体制</p>
<p><strong>HDLC</strong> ( High-Level Data Link Control) 高级数据链路控制</p>
<p><strong>HDSL</strong> (High-speed DSL) 高速数字用户线</p>
<p><strong>HSSG</strong> (High Speed Study Group) 高速研究组</p>
<p><strong>HTML</strong> (Hyper Text Markup Language) 超文本标记语言</p>
<p><strong>HTTP (Hyper Text Transfer Protocol) 超文本传送协议</strong></p>
<p><strong>IAB</strong> (Internet Architecture Board) 因特网体系结构委员</p>
<p><strong>IANA</strong> (Internet Assigned Numbers Authority) 因特网赋号管理局</p>
<p><strong>ICMP (Internet Control Message Protocol) 网际控制报文协议</strong></p>
<p><strong>IEEE</strong> (Institute of Electrical and Electronic Engineering) (美国) 电气和电子工程师学会</p>
<p><strong>IFS</strong> (Inter Frame Space) 帧间间隔</p>
<p><strong>IGMP</strong> (Internet Group Management Protocol) 网际组管理协议</p>
<p><strong>IGP</strong> (Interior Gateway Protocol) 内部网关协议</p>
<p><strong>IM</strong> (Instant Messaging) 及时传信</p>
<p><strong>IMAP ( Internet Message Access Protocol) 因特网报文存取协议</strong></p>
<p><strong>IntServ</strong> (Integrated Services) 综合服务</p>
<p><strong>IP (Internet Protocol) 网际协议</strong></p>
<p><strong>IPCP</strong> (IP Control Protocol) IP控制协议</p>
<p><strong>IPng</strong> (IP Next Protocol) 下一代IP</p>
<p><strong>IPsec</strong> (IP security) IP安全协议</p>
<p><strong>ISDN</strong> (Internet Services Digital Network) 综合业务数字网</p>
<p><strong>ISO</strong> (International Organization for Standardization ) 国际标准化组织</p>
<p><strong>ISOC</strong> (Internet Society) 因特网协会</p>
<p><strong>ISP</strong> (Internet Service Provider) 因特网服务提供者</p>
<p><strong>LAN</strong> (Local Area Network) 局域网</p>
<p><strong>LCP</strong> (Link Control Protocol) 链路控制协议</p>
<p><strong>LDP</strong> (Label Distribution Protocol) 标记分配协议</p>
<p><strong>LLC</strong>(Logical Link Control) 逻辑链路控制</p>
<p><strong>LSR</strong>(Label Switched Router) 标记交换路由器</p>
<p><strong>MAC</strong>(Medium Access Control) 媒体接入控制</p>
<p><strong>MACA</strong>(Multiple Access with Collision Avoidance)具有碰撞避免的多点接入</p>
<p><strong>MAN</strong>(Metropolitan Area Network) 城域网</p>
<p><strong>MBONE</strong>(Multicast Backbone On the InterNet) 多播主干网</p>
<p><strong>MCU</strong>(Multipoint Control Unit) 多点控制单元</p>
<p><strong>MD</strong>(Message Digest) 报文摘要</p>
<p><strong>MF</strong>(More Fragment) 还有分片</p>
<p><strong>MRU</strong>(Maximum Receive Unit) 最大接收单元</p>
<p><strong>MSS</strong>(Maximum Segment Size) 最长报文段</p>
<p><strong>MTU</strong>(Maximum Transfer Unit) 最大传送单元</p>
<p><strong>NAP</strong>(Network Access Point)　网络接入点</p>
<p><strong>NAT</strong>(Network Address Translation) 网络地址转换</p>
<p><strong>NAV</strong>(Network Allocation Vector) 网络分配向量</p>
<p><strong>NCP</strong>(Network Control Protocol) 网络控制协议</p>
<p><strong>NFS</strong>(Network File System) 网络文件系统</p>
<p><strong>NOC</strong>(Network Operations Center) 网络运行中心</p>
<p><strong>NSAP</strong>(Network Service Access Point) 网络层服务访问点</p>
<p><strong>NSF</strong>(National Service Foundation) (美国)国家科学基金会</p>
<p><strong>OFDM</strong>(Orthogonal Frequency Division Multiplexing) 正交频分复用</p>
<p><strong>OSI/RM</strong> (Open Systems Interconnection Reference Model) 开发系统互连基本参考模型</p>
<p><strong>OSPF(Open Shortest Path First) 开放最短通路优先</strong></p>
<p><strong>P2P</strong>(Peer-to-Peer) 对等方式</p>
<p><strong>PAN</strong>(Personal Area Network) 个人区域网</p>
<p><strong>PAP</strong>(Password Authentication Protocol) 口令鉴别协议</p>
<p><strong>PCA</strong>(Policy Certification Authority) 政策认证中心</p>
<p><strong>PCF</strong>(Point Coordination Function) 点协调功能</p>
<p><strong>PCM</strong>(Pulse Code Modulation) 脉码调制</p>
<p><strong>PEM</strong>(Privacy Enhanced Mail) 因特网的正式邮件加密标准</p>
<p><strong>PGP</strong>(Pretty Good Privacy) 一种电子邮件的机密标准</p>
<p><strong>PHB</strong>(Per-Hop Behavior) 每跳行为</p>
<p><strong>PIFS</strong>(Point Coordination Function IFS) 点协调功能帧间间隔</p>
<p><strong>PK</strong>(public key) 公钥,公开密钥</p>
<p><strong>PoP</strong>(Point of Presence) 汇接点</p>
<p><strong>POP</strong>(Post Office Protocol) 邮局协议</p>
<p><strong>PPP(Point-to-Point Protocol) 点对点协议</strong></p>
<p><strong>PPPoE</strong>(Point-to-Point Protocol over Ethernet) 以太网上的点对点协议</p>
<p><strong>QAM</strong>(Quadrature Amplitude Modulation) 正交幅度调制</p>
<p><strong>QoS</strong>(Quality of Service)　服务质量</p>
<p><strong>QPSK</strong>(Quarternary Phase Shift Keying)正交相移键控</p>
<p><strong>RARP</strong>(Reverse Address Resolution Protocol)逆地址解析协议</p>
<p><strong>RFD</strong>(Reduced-Function Device)精简功能设备</p>
<p><strong>RG</strong>(Research Group)研究组</p>
<p><strong>RIP(Routing Information Protocol)路由信息协议</strong></p>
<p><strong>RIPE</strong>(法文表示的European IP Network)欧洲的IP 网络</p>
<p><strong>RTP</strong>(Real-Time Transfer Protocol)实时传送协议</p>
<p><strong>RTSP</strong>(Real-Time Streaming Protocol)实时流式协议</p>
<p><strong>RTT</strong>(Round-Trip Time)往返时间</p>
<p><strong>SA</strong>(Security Association)安全关联</p>
<p><strong>SACK</strong>(Selective ACK)选择确认</p>
<p><strong>SAP</strong>(Service Access Point)服务访问点</p>
<p><strong>SCTP</strong>(Stream Control Transmission Protocol)流控制传输协议</p>
<p><strong>SDH</strong>(Synchronous Digital Hierarchy)同步数字系列</p>
<p><strong>SMI</strong>(Structure of Management Information)管理信息结构</p>
<p><strong>SMTP(Simple Mail Transfer Protocol)简单邮件传送协议</strong></p>
<p><strong>SNA</strong>(System Network Architecture)系统网络体系结构</p>
<p><strong>SNMP</strong>(Simple Network Management Protocol)简单网络管理协议</p>
<p><strong>SOH</strong>(Start Of Header)首部开始</p>
<p><strong>SONET</strong>(Synchronous Optical Network)同步光纤网</p>
<p><strong>STDM</strong>(Statistic TDM)统计时分复用</p>
<p><strong>STM</strong>(Synchronous Transfer Module)同步传递模块</p>
<p><strong>STS</strong>(Synchronous Transport Signal)同步传送信号</p>
<p><strong>TAG</strong>(TAG Switching)标记交换</p>
<p><strong>TCB</strong>(Transmission Control Block)传输控制程序块</p>
<p><strong>TCP(Transmission Control Protocol)传输控制协议</strong></p>
<p><strong>TDM</strong>(Time Division Multiplexing)时分复用</p>
<p><strong>TELNET</strong>(TELetype NETwork)电传机网络,一种因特网的应用程序</p>
<p><strong>TFTP</strong>(Trivial File Transfer Protocol)简单文件传送协议</p>
<p><strong>TIA</strong>(Telecommunications Industries Association)电信行业协会</p>
<p><strong>TLD</strong>(Top Level Domain)顶级域名</p>
<p><strong>TLI</strong>(Transport Layer Interface)运输层接口</p>
<p><strong>TLS</strong>(Transport Layer Security)运输层安全协议</p>
<p><strong>TLV</strong>(Type-Length-Value)类型-长度-值</p>
<p><strong>TPDU</strong>(Transport Protocol Data Unit)运输协议数据单元</p>
<p><strong>UDP(User Datagram Protocol)用户数据报协议</strong></p>
<p><strong>URL</strong>(Uniform Resource Locator)统一资源定位符</p>
<p><strong>UTP</strong>(Unshield Twisted Pair)无屏蔽双绞线</p>
<p><strong>UWB</strong>(Ultra-Wide Band)超宽带</p>
<p><strong>VC</strong>(Virtual Circuit)虚电路</p>
<p><strong>VDSL</strong>(Very high speed DSL)甚高数字用户线</p>
<p><strong>VLAN</strong>(Virtual LAN)虚拟局域网</p>
<p><strong>VPN</strong>(Virtual Private Network) 虚拟专用网</p>
<p><strong>WAN</strong>(Wide Area Network) 广域网</p>
<p><strong>WDM</strong>(Wavelength Division Multiplexing) 波分复用</p>
<p><strong>WG</strong>(Working Group)　工作组</p>
<p><strong>Ｗi-Fi</strong>(Wireless-Fidelity) 无线保真度(无限局域网的同义词)</p>
<p><strong>WLAN</strong>(Wireless Local Area Network) 无线局域网</p>
<p><strong>WMAN</strong>(Wireless Metrpolitan Area Network) 无线个城域网</p>
<p><strong>WPAN</strong>(wireless Personal Area Network) 无线个人区域网</p>
<p><strong>WSN</strong>(Wireless Sensor Network)　无线传感器网络</p>
<p><strong>WWW</strong>(World Wide Web) 万维网</p>
<h2 id="脚注"><em>脚注</em></h2>
<p>[^ISP]:<code>internet service provider</code> 互联网服务提供商(电信、移动、联通)<br>
[^ACK]:ACK是TCP/IP协议中的一个重要标志,表示&quot;确认&quot;(Acknowledgement)<br>
[^ALOHA]:ALOHA是夏威夷人表示致意的问候语,这项研究计划的目的是要解决夏威夷群岛之间的通信问题</p>
<h2 id="待用图片">待用图片</h2>
<p>ARP</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/lsOMhMkC.png" alt=""></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/A1kg7et8.gif" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/A1kg7et8.gif" title="头像" alt="头像"></a><div class="post-copyright__author_name">caolibin</div><div class="post-copyright__author_desc">blog</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/')">计算机网络</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=计算机网络&amp;url=https://clibin.gitee.io/2023/10/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/&amp;pic=https://img2.imgtp.com/2024/04/26/bIFqmrVZ.jpeg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://clibin.gitee.io" target="_blank">学海无涯</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>计算机网络<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://img2.imgtp.com/2024/04/26/6Yu6WOXx.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/10/14/mybatis/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/VjORBIMS.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">mybatis</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/07/springboot%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/4AzC8Fg3.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">springboot相关配置</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/04/A1kg7et8.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2021/01/15/1bc13fa6b2808.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">caolibin</h1><div class="author-info__desc">blog</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/caolib" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/441126797" target="_blank" title="BiliBili"></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">计算机网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1. 计算机网络概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E8%AE%A1%E7%BD%91%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 计网的组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">组成</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">1.1.1.3.1.</span> <span class="toc-text">组成部分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.1.3.2.</span> <span class="toc-text">工作方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.1.3.3.</span> <span class="toc-text">逻辑功能</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E4%BA%92%E8%81%94%E7%BD%91"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 互联网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">网络的网络</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%93%E6%9E%84%E5%8F%91%E5%B1%95"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">互联网结构发展</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%94%B5%E8%B7%AF%E3%80%81%E6%8A%A5%E6%96%87%E3%80%81%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4 电路、报文、分组交换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">电路交换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">报文交换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">分组交换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%80%9F%E7%8E%87"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">1. 速率</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B8%A6%E5%AE%BD"><span class="toc-number">1.1.4.5.</span> <span class="toc-text">2. 带宽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.1.4.6.</span> <span class="toc-text">3. 吞吐量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%97%B6%E5%BB%B6"><span class="toc-number">1.1.4.7.</span> <span class="toc-text">4. 时延</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF-%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4-%E5%88%A9%E7%94%A8%E7%8E%87-%E4%B8%A2%E5%8C%85%E7%8E%87"><span class="toc-number">1.1.4.8.</span> <span class="toc-text">5. 时延带宽积 往返时间 利用率 丢包率</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.5.</span> <span class="toc-text">1.6 计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">1.6.1 网络协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-%E5%88%86%E5%B1%82%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">1.6.2 分层体系结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-3-%E5%8E%9F%E7%90%86%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.5.3.</span> <span class="toc-text">1.6.3 原理体系结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-4-%E5%AE%9E%E4%BD%93%E3%80%81%E5%8D%8F%E8%AE%AE%E5%92%8C%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.5.4.</span> <span class="toc-text">1.6.4 实体、协议和服务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-%E7%9B%B8%E5%85%B3%E4%B9%A0%E9%A2%98"><span class="toc-number">1.1.6.</span> <span class="toc-text">1.7 相关习题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%92%8C%E4%B9%A0%E9%A2%98"><span class="toc-number">1.1.7.</span> <span class="toc-text">1.8 思维导图和习题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.2.</span> <span class="toc-text">2. 物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 数据通信的基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">通信系统模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">编码与调制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E7%9A%84%E6%9E%81%E9%99%90%E5%AE%B9%E9%87%8F"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">信道的极限容量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A5%88%E5%BC%8F%E5%87%86%E5%88%99"><span class="toc-number">1.2.2.3.1.</span> <span class="toc-text">奈式准则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A6%99%E5%86%9C%E5%85%AC%E5%BC%8F"><span class="toc-number">1.2.2.3.2.</span> <span class="toc-text">香农公式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">传输方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%89%A9%E7%90%86%E5%B1%82%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 物理层传输介质</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%BC%95%E5%9E%8B%E4%BB%8B%E8%B4%A8"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">导引型介质</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%AF%BC%E5%BC%95%E5%9E%8B%E4%BB%8B%E8%B4%A8"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">非导引型介质</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">物理层接口的特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E7%89%A9%E7%90%86%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.5 物理层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E7%BB%A7%E5%99%A8"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">中继器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">集线器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E7%9B%B8%E5%85%B3%E4%B9%A0%E9%A2%98%E5%92%8C%E8%B5%84%E6%96%99"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.6 相关习题和资料</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.3.</span> <span class="toc-text">3. 数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 相关概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7%E5%92%8C%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 封装成帧和透明传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1.封装成帧</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#span-style-color-ff6b6b-2-%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93%E9%97%AE%E9%A2%98-span"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2.透明传输问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%BB%84%E5%B8%A7"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">3.组帧</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 差错控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">检错编码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">1.3.3.1.1.</span> <span class="toc-text">奇偶校验码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E7%A0%81"><span class="toc-number">1.3.3.1.2.</span> <span class="toc-text">循环冗余码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">纠错编码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B1%89%E6%98%8E%E7%A0%81"><span class="toc-number">1.3.3.2.1.</span> <span class="toc-text">汉明码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4 流量控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">可靠传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2-%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE-SW"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">停止-等待协议(SW)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE-GBN"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">回退N帧协议(GBN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE-SR"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">选择重传协议(SR)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5 介质访问控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">1.通信方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">2.介质访问控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">3.信道划分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E9%A2%91%E5%88%86%E5%A4%8D%E7%94%A8"><span class="toc-number">1.3.5.3.1.</span> <span class="toc-text">1. 频分复用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8"><span class="toc-number">1.3.5.3.2.</span> <span class="toc-text">2. 时分复用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%B3%A2%E5%88%86%E5%A4%8D%E7%94%A8"><span class="toc-number">1.3.5.3.3.</span> <span class="toc-text">3. 波分复用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E7%A0%81%E5%88%86%E5%A4%8D%E7%94%A8"><span class="toc-number">1.3.5.3.4.</span> <span class="toc-text">4. 码分复用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">4.随机访问</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.3.5.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-ALOHA-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.5.4.2.</span> <span class="toc-text">1. ALOHA 协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-CSMA-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.5.4.3.</span> <span class="toc-text">2. CSMA 协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-CSMA-CD-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.5.4.4.</span> <span class="toc-text">3. CSMA&#x2F;CD 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.3.5.4.4.1.</span> <span class="toc-text">工作流程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%89%E7%94%A8%E6%9C%9F"><span class="toc-number">1.3.5.4.4.2.</span> <span class="toc-text">争用期</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E5%B8%A7%E9%95%BF"><span class="toc-number">1.3.5.4.4.3.</span> <span class="toc-text">最小帧长</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%8C%87%E6%95%B0%E9%80%80%E9%81%BF%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.5.4.4.4.</span> <span class="toc-text">二进制指数退避算法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-CSMA-CA"><span class="toc-number">1.3.5.4.5.</span> <span class="toc-text">4. CSMA&#x2F;CA</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%BD%AE%E8%AF%A2%E8%AE%BF%E9%97%AE"><span class="toc-number">1.3.5.5.</span> <span class="toc-text">5.轮询访问</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A4%E7%89%8C%E4%BC%A0%E9%80%92%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.5.5.1.</span> <span class="toc-text">令牌传递协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">1.3.6.</span> <span class="toc-text">3.6 局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">拓扑结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB-2"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MAC%E5%9C%B0%E5%9D%80"><span class="toc-number">1.3.6.4.</span> <span class="toc-text">MAC地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VLAN"><span class="toc-number">1.3.6.5.</span> <span class="toc-text">VLAN</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E5%B9%BF%E5%9F%9F%E7%BD%91"><span class="toc-number">1.3.7.</span> <span class="toc-text">3.7 广域网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PPP-%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">PPP 协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.3.8.</span> <span class="toc-text">3.8 链路层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E6%A1%A5"><span class="toc-number">1.3.8.1.</span> <span class="toc-text">网桥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">1.3.8.2.</span> <span class="toc-text">交换机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8vs%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">1.3.8.3.</span> <span class="toc-text">集线器vs交换机</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-STP"><span class="toc-number">1.3.9.</span> <span class="toc-text">3.9 STP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%92%8C%E4%B9%A0%E9%A2%98"><span class="toc-number">1.3.10.</span> <span class="toc-text">4. 思维导图和习题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.4.</span> <span class="toc-text">4. 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 网络层提供的两种服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%99%9A%E7%94%B5%E8%B7%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">1.虚电路服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">2.数据报服务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-SDN"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3 SDN</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">路由选择处理器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-IPv4"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4 IPv4</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">首部格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MTU"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">MTU</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-IP%E7%BC%96%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.5.</span> <span class="toc-text">4.5 IP编址方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80%E7%9A%84IP"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">1.分类编址的IP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91%E7%9A%84IP"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">2.划分子网的IP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-CIDR"><span class="toc-number">1.4.5.3.</span> <span class="toc-text">3.CIDR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88"><span class="toc-number">1.4.5.4.</span> <span class="toc-text">4.路由聚合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E5%8F%91%E9%80%81%E5%92%8C%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.6.</span> <span class="toc-text">4.6 IP数据报的发送和转发过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-ARP"><span class="toc-number">1.4.7.</span> <span class="toc-text">4.7 ARP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.8.</span> <span class="toc-text">4.8 静态路由配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.8.1.</span> <span class="toc-text">1. 静态路由的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.8.2.</span> <span class="toc-text">2. 默认路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF"><span class="toc-number">1.4.8.3.</span> <span class="toc-text">3. 路由环路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-DHCP"><span class="toc-number">1.4.9.</span> <span class="toc-text">4.9 DHCP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.9.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.9.2.</span> <span class="toc-text">2. 工作过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-DHCP%E4%B8%AD%E7%BB%A7%E4%BB%A3%E7%90%86"><span class="toc-number">1.4.9.3.</span> <span class="toc-text">3. DHCP中继代理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.10.</span> <span class="toc-text">4.10 路由选择协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11-RIP"><span class="toc-number">1.4.11.</span> <span class="toc-text">4.11 RIP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-5"><span class="toc-number">1.4.11.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.11.2.</span> <span class="toc-text">工作原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-OSPF"><span class="toc-number">1.4.12.</span> <span class="toc-text">4.12 OSPF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.12.1.</span> <span class="toc-text">1. 基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%89%B9%E7%82%B9"><span class="toc-number">1.4.12.2.</span> <span class="toc-text">2. 特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.12.3.</span> <span class="toc-text">3. 相关概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.12.4.</span> <span class="toc-text">4. 基本工作原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-BGP"><span class="toc-number">1.4.13.</span> <span class="toc-text">4.13  BGP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-number">1.4.13.1.</span> <span class="toc-text">1. 基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9B%9B%E7%A7%8D%E6%8A%A5%E6%96%87"><span class="toc-number">1.4.13.2.</span> <span class="toc-text">2. 四种报文</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-14-ICMP"><span class="toc-number">1.4.14.</span> <span class="toc-text">4.14 ICMP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="toc-number">1.4.14.1.</span> <span class="toc-text">1. 基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-ICMP%E6%8A%A5%E6%96%87%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.14.2.</span> <span class="toc-text">2. ICMP报文数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-ICMP%E7%9A%84%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8"><span class="toc-number">1.4.14.3.</span> <span class="toc-text">3. ICMP的典型应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-PING"><span class="toc-number">1.4.14.3.1.</span> <span class="toc-text">1. PING</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-traceroute"><span class="toc-number">1.4.14.3.2.</span> <span class="toc-text">2. traceroute</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-15-VPN"><span class="toc-number">1.4.15.</span> <span class="toc-text">4.15 VPN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-16-NAT"><span class="toc-number">1.4.16.</span> <span class="toc-text">4.16 NAT</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-2"><span class="toc-number">1.4.16.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-NAPT"><span class="toc-number">1.4.16.2.</span> <span class="toc-text">2. NAPT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%92%8C%E4%B9%A0%E9%A2%98"><span class="toc-number">1.4.17.</span> <span class="toc-text">5. 思维导图和习题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">1.5.</span> <span class="toc-text">5. 运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-3"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%AB%AF%E5%8F%A3%E5%8F%B7-%E5%A4%8D%E7%94%A8%E5%92%8C%E5%88%86%E7%94%A8"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 端口号,复用和分用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%90%E8%BE%93%E5%B1%82%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">1. 运输层端口号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%91%E9%80%81%E6%96%B9%E7%9A%84%E5%A4%8D%E7%94%A8%E5%92%8C%E6%8E%A5%E6%94%B6%E6%96%B9%E7%9A%84%E5%88%86%E7%94%A8"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">2. 发送方的复用和接收方的分用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-TCP%E5%92%8CUDP%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.5.3.</span> <span class="toc-text">3.  TCP和UDP的对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-TCP%E7%9A%84%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.4.</span> <span class="toc-text">4. TCP的流量控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-4"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-a-href-https-www-bilibili-com-video-BV1c4411d7jb-t-44-1-p-60-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95-a"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">2. 流量控制方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-TCP%E7%9A%84%E6%8B%A5%E5%A1%9E-se-%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.5.</span> <span class="toc-text">5. TCP的拥塞(se)控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-4"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">1. 基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4%E7%A7%8D%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">2. 4种拥塞控制方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%85%A2%E5%BC%80%E5%A7%8B%E3%80%81%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D"><span class="toc-number">1.5.5.2.1.</span> <span class="toc-text">1. 慢开始、拥塞避免</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%BF%AB%E9%87%8D%E4%BC%A0%E3%80%81%E5%BF%AB%E6%81%A2%E5%A4%8D"><span class="toc-number">1.5.5.2.2.</span> <span class="toc-text">2. 快重传、快恢复</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-TCP%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%97%B6%E9%97%B4%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">1.5.6.</span> <span class="toc-text">6. TCP超时重传时间的选择</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RTO%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">1.5.6.1.</span> <span class="toc-text">RTO的选择</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-RTTs%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">1.5.6.1.1.</span> <span class="toc-text">1. RTTs的计算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-RRTd%E5%92%8CRTO%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">1.5.6.1.2.</span> <span class="toc-text">2. RRTd和RTO的计算</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E7%94%9F%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%97%B6%E6%97%A0%E6%B3%95%E6%B5%8B%E5%87%86RTT"><span class="toc-number">1.5.6.2.</span> <span class="toc-text">发生超时重传时无法测准RTT</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Karn%E7%AE%97%E6%B3%95%E5%8F%8A%E4%BF%AE%E6%AD%A3"><span class="toc-number">1.5.6.2.1.</span> <span class="toc-text">Karn算法及修正</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.6.2.2.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-TCP%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.7.</span> <span class="toc-text">7.TCP可靠传输的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-TCP%E7%9A%84%E8%BF%90%E8%BE%93%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-number">1.5.8.</span> <span class="toc-text">8. TCP的运输连接管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-TCP%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.5.8.1.</span> <span class="toc-text">1. TCP连接的建立</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%B8%89%E6%8A%A5%E6%96%87%E6%8F%A1%E6%89%8B"><span class="toc-number">1.5.8.2.</span> <span class="toc-text">2. 三报文握手</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9B%9B%E6%8A%A5%E6%96%87%E6%8C%A5%E6%89%8B"><span class="toc-number">1.5.8.3.</span> <span class="toc-text">3. 四报文挥手</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-TCP%E6%8A%A5%E6%96%87%E6%AE%B5%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.5.9.</span> <span class="toc-text">9. TCP报文段首部格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%92%8C%E4%B9%A0%E9%A2%98"><span class="toc-number">1.5.10.</span> <span class="toc-text">10. 思维导图和习题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.6.</span> <span class="toc-text">6. 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-5"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%A2%E6%88%B7%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%92%8C%E5%AF%B9%E7%AD%89%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 客户服务器和对等方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-C-S%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">1. C&#x2F;S方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-P2P%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">2. P2P方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-DNS"><span class="toc-number">1.6.3.</span> <span class="toc-text">4. DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">1. 域名系统的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9B%A0%E7%89%B9%E7%BD%91%E7%9A%84%E5%9F%9F%E5%90%8D%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">2. 因特网的域名结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%9F%9F%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">1.6.3.2.1.</span> <span class="toc-text">1. 域名规范</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%B8%8D%E5%90%8C%E5%9B%BD%E5%AE%B6%E7%9A%84%E5%9F%9F%E5%90%8D"><span class="toc-number">1.6.3.2.2.</span> <span class="toc-text">2. 不同国家的域名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%9B%A0%E7%89%B9%E7%BD%91%E7%9A%84%E5%9F%9F%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">1.6.3.2.3.</span> <span class="toc-text">3. 因特网的域名空间</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">3. 域名服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-number">1.6.3.4.</span> <span class="toc-text">4. 域名解析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.6.3.4.1.</span> <span class="toc-text">1. 递归查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%BF%AD%E4%BB%A3%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.6.3.4.2.</span> <span class="toc-text">2. 迭代查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="toc-number">1.6.3.4.3.</span> <span class="toc-text">3. 高速缓存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-FTP"><span class="toc-number">1.6.4.</span> <span class="toc-text">5. FTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">1.6.5.</span> <span class="toc-text">6. 电子邮件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-E-mail"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">1. E-mail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">2. 电子邮件系统的组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%92%8C%E6%8E%A5%E6%94%B6%E8%BF%87%E7%A8%8B"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">3. 邮件发送和接收过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-SMTP"><span class="toc-number">1.6.5.4.</span> <span class="toc-text">4. SMTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%9A%84%E4%BF%A1%E6%81%AF%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.6.5.5.</span> <span class="toc-text">5. 电子邮件的信息格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-MIME"><span class="toc-number">1.6.5.6.</span> <span class="toc-text">6. MIME</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E5%B8%B8%E7%94%A8%E9%82%AE%E4%BB%B6%E8%AF%BB%E5%8F%96%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.5.7.</span> <span class="toc-text">7. 常用邮件读取协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E5%9F%BA%E4%BA%8E%E4%B8%87%E7%BB%B4%E7%BD%91%E7%9A%84%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">1.6.5.8.</span> <span class="toc-text">8. 基于万维网的电子邮件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%B8%87%E7%BB%B4%E7%BD%91"><span class="toc-number">1.6.6.</span> <span class="toc-text">7. 万维网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-6"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-URL"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">2. URL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%87%E7%BB%B4%E7%BD%91%E6%96%87%E6%A1%A3"><span class="toc-number">1.6.6.3.</span> <span class="toc-text">3. 万维网文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-HTTP"><span class="toc-number">1.6.6.4.</span> <span class="toc-text">4. HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-7"><span class="toc-number">1.6.6.4.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.6.6.4.2.</span> <span class="toc-text">2. 报文格式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Cookie"><span class="toc-number">1.6.6.5.</span> <span class="toc-text">5. Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%B8%87%E7%BB%B4%E7%BD%91%E7%BC%93%E5%AD%98%E4%B8%8E%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.6.6.6.</span> <span class="toc-text">6. 万维网缓存与代理服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%92%8C%E7%9B%B8%E5%85%B3%E4%B9%A0%E9%A2%98"><span class="toc-number">1.6.6.7.</span> <span class="toc-text">7. 思维导图和相关习题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD"><span class="toc-number">1.7.</span> <span class="toc-text">计算机网络相关术语</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%B3%A8"><span class="toc-number">1.8.</span> <span class="toc-text">脚注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%85%E7%94%A8%E5%9B%BE%E7%89%87"><span class="toc-number">1.9.</span> <span class="toc-text">待用图片</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/27/npm-yarn/" title="npm、yarn 包管理器"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/6Yu6WOXx.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="npm、yarn 包管理器"/></a><div class="content"><a class="title" href="/2024/03/27/npm-yarn/" title="npm、yarn 包管理器">npm、yarn 包管理器</a><time datetime="2024-03-27T05:37:44.000Z" title="发表于 2024-03-27 13:37:44">2024-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/25/git/" title="git版本控制系统"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/RNcBwZxV.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git版本控制系统"/></a><div class="content"><a class="title" href="/2024/03/25/git/" title="git版本控制系统">git版本控制系统</a><time datetime="2024-03-25T13:45:03.000Z" title="发表于 2024-03-25 21:45:03">2024-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/19/windows%E5%AE%9A%E6%97%B6%E5%85%B3%E6%9C%BA/" title="windows定时关机"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/zzTq9wAc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows定时关机"/></a><div class="content"><a class="title" href="/2024/03/19/windows%E5%AE%9A%E6%97%B6%E5%85%B3%E6%9C%BA/" title="windows定时关机">windows定时关机</a><time datetime="2024-03-19T14:28:39.000Z" title="发表于 2024-03-19 22:28:39">2024-03-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/18/apifox%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" title="apifox测试工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/MFf0YXPB.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="apifox测试工具"/></a><div class="content"><a class="title" href="/2024/03/18/apifox%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" title="apifox测试工具">apifox测试工具</a><time datetime="2024-03-18T14:20:23.000Z" title="发表于 2024-03-18 22:20:23">2024-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/17/springcloud%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/" title="springcloud从入门到放弃"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/26/naT60HXW.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="springcloud从入门到放弃"/></a><div class="content"><a class="title" href="/2024/03/17/springcloud%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/" title="springcloud从入门到放弃">springcloud从入门到放弃</a><time datetime="2024-03-17T14:22:28.000Z" title="发表于 2024-03-17 22:22:28">2024-03-17</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://github.com/caolib/caolib.github.io" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 - 2024 By <a class="footer-bar-link" href="/" title="caolibin" target="_blank">caolibin</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">9</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">分站</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://caolib.github.io" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="github"/><span class="back-menu-item-text">github</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://clb.pages.dev" title="Cloudflare"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/cloudflare.svg" alt="Cloudflare"/><span class="back-menu-item-text">Cloudflare</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://caolib.vercel.app" title="vercel"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/vercel.svg" alt="vercel"/><span class="back-menu-item-text">vercel</span></a><a class="back-menu-item" href="https://clibin.gitee.io" title="gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/gitee.svg" alt="gitee"/><span class="back-menu-item-text">gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">我</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/caolib" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="github"/><span class="back-menu-item-text">github</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/clibin" title="gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/gitee.svg" alt="gitee"/><span class="back-menu-item-text">gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">友链</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://yuzaoqie.github.io" title="man"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/github.svg" alt="man"/><span class="back-menu-item-text">man</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 留言</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/NOSQL/" style="font-size: 0.88rem;">NOSQL<sup>1</sup></a><a href="/tags/apifox/" style="font-size: 0.88rem;">apifox<sup>1</sup></a><a href="/tags/axios/" style="font-size: 0.88rem;">axios<sup>1</sup></a><a href="/tags/c/" style="font-size: 0.88rem;">c++<sup>1</sup></a><a href="/tags/everything/" style="font-size: 0.88rem;">everything<sup>1</sup></a><a href="/tags/gateway/" style="font-size: 0.88rem;">gateway<sup>1</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>1</sup></a><a href="/tags/java/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">java<sup>2</sup></a><a href="/tags/jwt/" style="font-size: 0.88rem;">jwt<sup>1</sup></a><a href="/tags/linux/" style="font-size: 0.88rem;">linux<sup>1</sup></a><a href="/tags/markdown/" style="font-size: 0.88rem;">markdown<sup>1</sup></a><a href="/tags/mybatis/" style="font-size: 0.88rem;">mybatis<sup>2</sup></a><a href="/tags/mysql/" style="font-size: 0.88rem;">mysql<sup>3</sup></a><a href="/tags/nacos/" style="font-size: 0.88rem;">nacos<sup>1</sup></a><a href="/tags/npm/" style="font-size: 0.88rem;">npm<sup>1</sup></a><a href="/tags/os/" style="font-size: 0.88rem;">os<sup>1</sup></a><a href="/tags/pinia/" style="font-size: 0.88rem;">pinia<sup>1</sup></a><a href="/tags/redis/" style="font-size: 0.88rem;">redis<sup>2</sup></a><a href="/tags/shields/" style="font-size: 0.88rem;">shields<sup>1</sup></a><a href="/tags/springboot/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">springboot<sup>2</sup></a><a href="/tags/springcloud/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">springcloud<sup>2</sup></a><a href="/tags/windows/" style="font-size: 0.88rem;">windows<sup>1</sup></a><a href="/tags/%E6%90%9C%E7%B4%A2/" style="font-size: 0.88rem;">搜索<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 0.88rem; font-weight: 500; color: var(--anzhiyu-lighttext)">数据库<sup>2</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE/" style="font-size: 0.88rem;">标签<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 0.88rem;">测试<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 0.88rem;">计算机网络<sup>1</sup></a><a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size: 0.88rem;">邮件<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="9516665896" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"><a class="tag-list" href="/tags/springboot" title="springboot">springboot</a><a class="tag-list" href="/tags/springcloud" title="springcloud">springcloud</a><a class="tag-list" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" title="计算机网络">计算机网络</a><a class="tag-list" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93" title="数据库">数据库</a></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=9516665896&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("12/26/2023 16:20:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.60.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.cbd.int/katex@0.16.0/dist/katex.min.css"><script src="https://cdn.cbd.int/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    anzhiyu.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://clibin-twikoo-comments.hf.space',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://clibin-twikoo-comments.hf.space',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async src="/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://clibin-twikoo-comments.hf.space',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><div class="aplayer no-destroy" data-id="8400298436" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-mini='true'> </div><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script type="text/javascript">docsearch({appId:5ZERDAEVZ8, apiKey:a026e88a33a21c12f851e20db56e4d88,indexName:tankingcaoio,insights:true,container:div, debug:false});</script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3IEsC7dmGhpF8yGN",ck:"3IEsC7dmGhpF8yGN"})</script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":50,"height":100},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body></html>